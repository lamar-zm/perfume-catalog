(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,77936,e=>{"use strict";var r=e.i(43476);e.i(71645);var t=e.i(24848),i=e.i(43798);e.i(7670);var a=e.i(89549),s=e.i(14037),l=e.i(44662),d=e.i(21879),o={root:"m_6d731127"};let n={gap:"md",align:"stretch",justify:"flex-start"},c=(0,i.createVarsResolver)((e,{gap:r,align:i,justify:a})=>({root:{"--stack-gap":(0,t.getSpacing)(r),"--stack-align":i,"--stack-justify":a}})),h=(0,d.factory)((e,t)=>{let i=(0,a.useProps)("Stack",n,e),{classNames:d,className:h,style:x,styles:m,unstyled:u,vars:p,align:T,justify:j,gap:b,variant:g,attributes:v,...f}=i,y=(0,s.useStyles)({name:"Stack",props:i,classes:o,className:h,style:x,classNames:d,styles:m,unstyled:u,attributes:v,vars:p,varsResolver:c});return(0,r.jsx)(l.Box,{ref:t,...y("root"),variant:g,...f})});h.classes=o,h.displayName="@mantine/core/Stack",e.s(["Stack",()=>h],77936)},55150,e=>{"use strict";var r=e.i(43476);e.i(71645);var t=e.i(24848),i=e.i(43798);e.i(7670);var a=e.i(89549),s=e.i(14037),l=e.i(44662),d=e.i(57942),o={root:"m_1b7284a3"};let n=(0,i.createVarsResolver)((e,{radius:r,shadow:i})=>({root:{"--paper-radius":void 0===r?void 0:(0,t.getRadius)(r),"--paper-shadow":(0,t.getShadow)(i)}})),c=(0,d.polymorphicFactory)((e,t)=>{let i=(0,a.useProps)("Paper",null,e),{classNames:d,className:c,style:h,styles:x,unstyled:m,withBorder:u,vars:p,radius:T,shadow:j,variant:b,mod:g,attributes:v,...f}=i,y=(0,s.useStyles)({name:"Paper",props:i,classes:o,className:c,style:h,classNames:d,styles:x,unstyled:m,attributes:v,vars:p,varsResolver:n});return(0,r.jsx)(l.Box,{ref:t,mod:[{"data-with-border":u},g],...y("root"),variant:b,...f})});c.classes=o,c.displayName="@mantine/core/Paper",e.s(["Paper",()=>c],55150)},92499,e=>{"use strict";var r=e.i(43476),t=e.i(71645);function i(e=null){let a=(0,t.createContext)(e);return[({children:e,value:t})=>(0,r.jsx)(a.Provider,{value:t,children:e}),()=>(0,t.useContext)(a)]}e.s(["createOptionalContext",()=>i])},8954,e=>{"use strict";e.i(71645),e.i(43476);var r=e.i(22442),t=e.i(18356),i=e.i(15400);function a({classNames:e,styles:a,props:s,stylesCtx:l}){let d=(0,r.useMantineTheme)();return{resolvedClassNames:(0,t.resolveClassNames)({theme:d,classNames:e,props:s,stylesCtx:l||void 0}),resolvedStyles:(0,i.resolveStyles)({theme:d,styles:a,props:s,stylesCtx:l||void 0})}}e.s(["useResolvedStylesApi",()=>a])},6773,64427,e=>{"use strict";e.i(14148),e.i(6848),e.i(70912),e.i(11375),e.i(99326),e.i(67466);var r=e.i(92681),t=e.i(35916),i=e.i(25027);e.i(92320),e.s([],47129),e.i(1622),e.i(70066),e.s([],6773),e.i(47129),e.s(["EmptyState",()=>t.EmptyState,"LoadingState",()=>i.LoadingState,"Pagination",()=>r.Pagination],64427)},45288,e=>{"use strict";var r=e.i(43476),t=e.i(82451);e.i(71645);var i=e.i(24848),a=e.i(43798);e.i(7670);var s=e.i(15259),l=e.i(89549),d=e.i(14037),o=e.i(44662),n=e.i(21879);let[c,h]=(0,e.i(84660).createSafeContext)("Table component was not found in the tree");var x={table:"m_b23fa0ef",th:"m_4e7aa4f3",tr:"m_4e7aa4fd",td:"m_4e7aa4ef",tbody:"m_b2404537",thead:"m_b242d975",caption:"m_9e5a3ac7",scrollContainer:"m_a100c15",scrollContainerInner:"m_62259741"};function m(e,t){let i=`Table${e.charAt(0).toUpperCase()}${e.slice(1)}`,a=(0,n.factory)((a,s)=>{let d=(0,l.useProps)(i,{},a),{classNames:n,className:c,style:x,styles:m,...u}=d,p=h();return(0,r.jsx)(o.Box,{component:e,ref:s,...function(e,r){if(!r)return;let t={};return r.columnBorder&&e.withColumnBorders&&(t["data-with-column-border"]=!0),r.rowBorder&&e.withRowBorders&&(t["data-with-row-border"]=!0),r.striped&&e.striped&&(t["data-striped"]=e.striped),r.highlightOnHover&&e.highlightOnHover&&(t["data-hover"]=!0),r.captionSide&&e.captionSide&&(t["data-side"]=e.captionSide),r.stickyHeader&&e.stickyHeader&&(t["data-sticky"]=!0),t}(p,t),...p.getStyles(e,{className:c,classNames:n,style:x,styles:m,props:d}),...u})});return a.displayName=`@mantine/core/${i}`,a.classes=x,a}let u=m("th",{columnBorder:!0}),p=m("td",{columnBorder:!0}),T=m("tr",{rowBorder:!0,striped:!0,highlightOnHover:!0}),j=m("thead",{stickyHeader:!0}),b=m("tbody"),g=m("tfoot"),v=m("caption",{captionSide:!0});function f({data:e}){return(0,r.jsxs)(r.Fragment,{children:[e.caption&&(0,r.jsx)(v,{children:e.caption}),e.head&&(0,r.jsx)(j,{children:(0,r.jsx)(T,{children:e.head.map((e,t)=>(0,r.jsx)(u,{children:e},t))})}),e.body&&(0,r.jsx)(b,{children:e.body.map((e,t)=>(0,r.jsx)(T,{children:e.map((e,t)=>(0,r.jsx)(p,{children:e},t))},t))}),e.foot&&(0,r.jsx)(g,{children:(0,r.jsx)(T,{children:e.foot.map((e,t)=>(0,r.jsx)(u,{children:e},t))})})]})}f.displayName="@mantine/core/TableDataRenderer";var y=e.i(47596);let S={type:"scrollarea"},C=(0,a.createVarsResolver)((e,{minWidth:r,maxHeight:i,type:a})=>({scrollContainer:{"--table-min-width":(0,t.rem)(r),"--table-max-height":(0,t.rem)(i),"--table-overflow":"native"===a?"auto":void 0}})),w=(0,n.factory)((e,t)=>{let i=(0,l.useProps)("TableScrollContainer",S,e),{classNames:a,className:s,style:n,styles:c,unstyled:h,vars:m,children:u,minWidth:p,maxHeight:T,type:j,scrollAreaProps:b,attributes:g,...v}=i,f=(0,d.useStyles)({name:"TableScrollContainer",classes:x,props:i,className:s,style:n,classNames:a,styles:c,unstyled:h,attributes:g,vars:m,varsResolver:C,rootSelector:"scrollContainer"});return(0,r.jsx)(o.Box,{component:"scrollarea"===j?y.ScrollArea:"div",..."scrollarea"===j?T?{offsetScrollbars:"xy",...b}:{offsetScrollbars:"x",...b}:{},ref:t,...f("scrollContainer"),...v,children:(0,r.jsx)("div",{...f("scrollContainerInner"),children:u})})});w.classes=x,w.displayName="@mantine/core/TableScrollContainer";let P={withRowBorders:!0,verticalSpacing:7},B=(0,a.createVarsResolver)((e,{layout:r,captionSide:a,horizontalSpacing:l,verticalSpacing:d,borderColor:o,stripedColor:n,highlightOnHoverColor:c,striped:h,highlightOnHover:x,stickyHeaderOffset:m,stickyHeader:u})=>({table:{"--table-layout":r,"--table-caption-side":a,"--table-horizontal-spacing":(0,i.getSpacing)(l),"--table-vertical-spacing":(0,i.getSpacing)(d),"--table-border-color":o?(0,s.getThemeColor)(o,e):void 0,"--table-striped-color":h&&n?(0,s.getThemeColor)(n,e):void 0,"--table-highlight-on-hover-color":x&&c?(0,s.getThemeColor)(c,e):void 0,"--table-sticky-header-offset":u?(0,t.rem)(m):void 0}})),z=(0,n.factory)((e,t)=>{let i=(0,l.useProps)("Table",P,e),{classNames:a,className:s,style:n,styles:h,unstyled:m,vars:u,horizontalSpacing:p,verticalSpacing:T,captionSide:j,stripedColor:b,highlightOnHoverColor:g,striped:v,highlightOnHover:y,withColumnBorders:S,withRowBorders:C,withTableBorder:w,borderColor:z,layout:k,variant:R,data:A,children:_,stickyHeader:I,stickyHeaderOffset:H,mod:N,tabularNums:O,attributes:G,...D}=i,E=(0,d.useStyles)({name:"Table",props:i,className:s,style:n,classes:x,classNames:a,styles:h,unstyled:m,attributes:G,rootSelector:"table",vars:u,varsResolver:B});return(0,r.jsx)(c,{value:{getStyles:E,stickyHeader:I,striped:!0===v?"odd":v||void 0,highlightOnHover:y,withColumnBorders:S,withRowBorders:C,captionSide:j||"bottom"},children:(0,r.jsx)(o.Box,{component:"table",variant:R,ref:t,mod:[{"data-with-table-border":w,"data-tabular-nums":O},N],...E("table"),...D,children:_||!!A&&(0,r.jsx)(f,{data:A})})})});z.classes=x,z.displayName="@mantine/core/Table",z.Td=p,z.Th=u,z.Tr=T,z.Thead=j,z.Tbody=b,z.Tfoot=g,z.Caption=v,z.ScrollContainer=w,z.DataRenderer=f,e.s(["Table",()=>z],45288)},54436,e=>{"use strict";var r=e.i(43476),t=e.i(71645),i=e.i(77936),a=e.i(92181),s=e.i(81363),l=e.i(55150),d=e.i(94229),o=e.i(26200),n=e.i(56132),c=e.i(45288),h=e.i(69625),x=e.i(14889),m=e.i(22767);let u=(0,e.i(33550).default)("outline","trending-up","TrendingUp",[["path",{d:"M3 17l6 -6l4 4l8 -8",key:"svg-0"}],["path",{d:"M14 7l7 0l0 7",key:"svg-1"}]]);var p=e.i(44017);e.i(29499);var T=e.i(94108);e.i(6773);var j=e.i(64427);function b(){let[e,b]=(0,t.useState)(!0),[g,v]=(0,t.useState)({totalPerfumes:0,totalCategories:0,totalSales:0,discountedCount:0}),[f,y]=(0,t.useState)([]),[S,C]=(0,t.useState)([]),[w,P]=(0,t.useState)([]);(0,t.useEffect)(()=>{B()},[]);let B=async()=>{b(!0);try{let[e,r,t,i]=await Promise.all([T.perfumeApi.getAll({page:1,pageSize:100}),T.categoryApi.getAll(),T.perfumeApi.getMostSold(5),T.perfumeApi.getDiscounted()]),a=e.success&&e.data?e.data:{data:[],total:0,page:1,pageSize:100,totalPages:0},s=r.success&&r.data?r.data:[],l=t.success&&t.data?t.data:[],d=i.success&&i.data?i.data:[],o=a.data.reduce((e,r)=>e+r.salesCount,0);v({totalPerfumes:a.total,totalCategories:s.length,totalSales:o,discountedCount:d.length}),y(l),C(d.slice(0,5)),P(s)}catch(e){console.error("Error loading dashboard data:",e)}finally{b(!1)}};return e?(0,r.jsx)(j.LoadingState,{message:"جاري تحميل البيانات..."}):(0,r.jsxs)(i.Stack,{gap:"xl",children:[(0,r.jsx)(a.Title,{order:2,children:"لوحة التحكم"}),(0,r.jsxs)(s.SimpleGrid,{cols:{base:1,sm:2,md:4},children:[(0,r.jsx)(l.Paper,{p:"md",radius:"md",withBorder:!0,children:(0,r.jsxs)(o.Group,{children:[(0,r.jsx)(n.ThemeIcon,{size:"xl",radius:"md",variant:"light",color:"brand",children:(0,r.jsx)(x.IconBottle,{size:24})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(d.Text,{size:"xs",c:"dimmed",children:"إجمالي العطور"}),(0,r.jsx)(d.Text,{fw:700,size:"xl",children:g.totalPerfumes})]})]})}),(0,r.jsx)(l.Paper,{p:"md",radius:"md",withBorder:!0,children:(0,r.jsxs)(o.Group,{children:[(0,r.jsx)(n.ThemeIcon,{size:"xl",radius:"md",variant:"light",color:"teal",children:(0,r.jsx)(m.IconCategory,{size:24})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(d.Text,{size:"xs",c:"dimmed",children:"التصنيفات"}),(0,r.jsx)(d.Text,{fw:700,size:"xl",children:g.totalCategories})]})]})}),(0,r.jsx)(l.Paper,{p:"md",radius:"md",withBorder:!0,children:(0,r.jsxs)(o.Group,{children:[(0,r.jsx)(n.ThemeIcon,{size:"xl",radius:"md",variant:"light",color:"blue",children:(0,r.jsx)(u,{size:24})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(d.Text,{size:"xs",c:"dimmed",children:"إجمالي المبيعات"}),(0,r.jsx)(d.Text,{fw:700,size:"xl",children:g.totalSales})]})]})}),(0,r.jsx)(l.Paper,{p:"md",radius:"md",withBorder:!0,children:(0,r.jsxs)(o.Group,{children:[(0,r.jsx)(n.ThemeIcon,{size:"xl",radius:"md",variant:"light",color:"red",children:(0,r.jsx)(p.IconDiscount,{size:24})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(d.Text,{size:"xs",c:"dimmed",children:"عطور بتخفيض"}),(0,r.jsx)(d.Text,{fw:700,size:"xl",children:g.discountedCount})]})]})})]}),(0,r.jsxs)(l.Paper,{p:"md",radius:"md",withBorder:!0,children:[(0,r.jsx)(a.Title,{order:4,mb:"md",children:"الأكثر مبيعاً"}),(0,r.jsxs)(c.Table,{striped:!0,highlightOnHover:!0,children:[(0,r.jsx)(c.Table.Thead,{children:(0,r.jsxs)(c.Table.Tr,{children:[(0,r.jsx)(c.Table.Th,{children:"العطر"}),(0,r.jsx)(c.Table.Th,{children:"التصنيف"}),(0,r.jsx)(c.Table.Th,{children:"السعر"}),(0,r.jsx)(c.Table.Th,{children:"المبيعات"})]})}),(0,r.jsx)(c.Table.Tbody,{children:f.map(e=>{let t;return(0,r.jsxs)(c.Table.Tr,{children:[(0,r.jsx)(c.Table.Td,{fw:500,children:e.title}),(0,r.jsx)(c.Table.Td,{children:(t=e.categoryId,w.find(e=>e.id===t)?.name||"-")}),(0,r.jsx)(c.Table.Td,{children:e.discount?(0,r.jsxs)(o.Group,{gap:"xs",children:[(0,r.jsx)(d.Text,{td:"line-through",c:"dimmed",size:"sm",children:e.price}),(0,r.jsxs)(d.Text,{fw:500,children:[e.price-e.discount," د.ع"]})]}):`${e.price} د.ع`}),(0,r.jsx)(c.Table.Td,{children:(0,r.jsx)(h.Badge,{variant:"light",color:"blue",children:e.salesCount})})]},e.id)})})]})]}),(0,r.jsxs)(l.Paper,{p:"md",radius:"md",withBorder:!0,children:[(0,r.jsx)(a.Title,{order:4,mb:"md",children:"عطور بتخفيضات نشطة"}),0===S.length?(0,r.jsx)(d.Text,{c:"dimmed",ta:"center",py:"md",children:"لا توجد عطور بتخفيضات حالياً"}):(0,r.jsxs)(c.Table,{striped:!0,highlightOnHover:!0,children:[(0,r.jsx)(c.Table.Thead,{children:(0,r.jsxs)(c.Table.Tr,{children:[(0,r.jsx)(c.Table.Th,{children:"العطر"}),(0,r.jsx)(c.Table.Th,{children:"السعر الأصلي"}),(0,r.jsx)(c.Table.Th,{children:"الخصم"}),(0,r.jsx)(c.Table.Th,{children:"السعر النهائي"})]})}),(0,r.jsx)(c.Table.Tbody,{children:S.map(e=>(0,r.jsxs)(c.Table.Tr,{children:[(0,r.jsx)(c.Table.Td,{fw:500,children:e.title}),(0,r.jsxs)(c.Table.Td,{children:[e.price," د.ع"]}),(0,r.jsx)(c.Table.Td,{children:(0,r.jsxs)(h.Badge,{color:"red",variant:"light",children:["-",e.discount," دينار"]})}),(0,r.jsxs)(c.Table.Td,{fw:600,c:"green",children:[e.price-(e.discount||0)," د.ع"]})]},e.id))})]})]})]})}e.s(["default",()=>b],54436)}]);