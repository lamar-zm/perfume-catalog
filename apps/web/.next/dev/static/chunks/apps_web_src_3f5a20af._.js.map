{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/lamarkhalifa/projects/perfume-catalog/apps/web/src/services/index.ts"],"sourcesContent":["// Re-export API client functions\nexport { \n  perfumeApi,\n  categoryApi,\n  brandApi,\n  authApi,\n  discountApi,\n  imageHelper,\n  uploadApi,\n} from '@/lib/api';\n\n// Also export with old service names for backward compatibility\nexport { \n  perfumeApi as perfumeService,\n  categoryApi as categoryService,\n  brandApi as brandService,\n  authApi as authService,\n  discountApi as discountService,\n  imageHelper as imageService,\n  uploadApi as uploadService,\n} from '@/lib/api';\n"],"names":[],"mappings":";AAAA,iCAAiC;AACjC"}},
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///Users/lamarkhalifa/projects/perfume-catalog/apps/web/src/app/admin/layout.tsx"],"sourcesContent":["'use client';\n\nimport { ReactNode, useEffect, useState } from 'react';\nimport { useRouter, usePathname } from 'next/navigation';\nimport {\n  AppShell,\n  NavLink,\n  Box,\n  Title,\n  Group,\n  Burger,\n  Loader,\n  Center,\n  Text,\n  Button,\n} from '@mantine/core';\nimport { useDisclosure } from '@mantine/hooks';\nimport {\n  IconHome,\n  IconBottle,\n  IconCategory,\n  IconLogout,\n  IconSparkles,\n  IconDiscount,\n  IconBuildingStore,\n} from '@tabler/icons-react';\nimport Link from 'next/link';\nimport { authApi } from '@/services';\nimport { Admin } from '@/types';\n\nconst navLinks = [\n  { href: '/admin', label: 'لوحة التحكم', icon: IconHome },\n  { href: '/admin/perfumes', label: 'العطور', icon: IconBottle },\n  { href: '/admin/categories', label: 'التصنيفات', icon: IconCategory },\n  { href: '/admin/brands', label: 'الماركات', icon: IconBuildingStore },\n  { href: '/admin/discounts', label: 'التخفيضات', icon: IconDiscount },\n];\n\nexport default function AdminLayout({ children }: { children: ReactNode }) {\n  const [opened, { toggle }] = useDisclosure();\n  const [user, setUser] = useState<Admin | null>(null);\n  const [loading, setLoading] = useState(true);\n  const router = useRouter();\n  const pathname = usePathname();\n\n  useEffect(() => {\n    const checkAuth = async () => {\n      const res = await authApi.getCurrentUser();\n      if ((!res.success || !res.data) && pathname !== '/admin/login') {\n        router.replace('/admin/login');\n      } else if (res.success && res.data) {\n        setUser(res.data);\n      }\n      setLoading(false);\n    };\n    checkAuth();\n  }, [pathname, router]);\n\n  const handleLogout = async () => {\n    await authApi.signOut();\n    router.replace('/admin/login');\n  };\n\n  // Show loading state\n  if (loading) {\n    return (\n      <Center style={{ minHeight: '100vh' }}>\n        <Loader size=\"lg\" />\n      </Center>\n    );\n  }\n\n  // Login page doesn't need the admin shell\n  if (pathname === '/admin/login') {\n    return <>{children}</>;\n  }\n\n  // If not logged in and not on login page, show nothing (redirect will happen)\n  if (!user) {\n    return null;\n  }\n\n  return (\n    <AppShell\n      header={{ height: 60 }}\n      navbar={{\n        width: 260,\n        breakpoint: 'sm',\n        collapsed: { mobile: !opened },\n      }}\n      padding=\"md\"\n    >\n      <AppShell.Header>\n        <Group h=\"100%\" px=\"md\" justify=\"space-between\">\n          <Group>\n            <Burger opened={opened} onClick={toggle} hiddenFrom=\"sm\" size=\"sm\" />\n            <Title order={4} c=\"brand\">\n              لوحة التحكم\n            </Title>\n          </Group>\n          <Group>\n            <Text size=\"sm\" c=\"dimmed\">\n              {user.displayName || user.email}\n            </Text>\n            <Button\n              variant=\"subtle\"\n              color=\"red\"\n              size=\"xs\"\n              leftSection={<IconLogout size={16} />}\n              onClick={handleLogout}\n            >\n              تسجيل الخروج\n            </Button>\n          </Group>\n        </Group>\n      </AppShell.Header>\n\n      <AppShell.Navbar p=\"md\">\n        <Box>\n          {navLinks.map((link) => (\n            <NavLink\n              key={link.href}\n              component={Link}\n              href={link.href}\n              label={link.label}\n              leftSection={<link.icon size={18} />}\n              active={pathname === link.href}\n              mb=\"xs\"\n            />\n          ))}\n        </Box>\n      </AppShell.Navbar>\n\n      <AppShell.Main>{children}</AppShell.Main>\n    </AppShell>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}