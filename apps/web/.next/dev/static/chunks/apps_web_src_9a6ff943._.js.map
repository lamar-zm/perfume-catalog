{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/lamarkhalifa/projects/perfume-catalog/apps/web/src/theme/index.ts"],"sourcesContent":["'use client';\n\nimport { createTheme, MantineColorsTuple } from '@mantine/core';\n\n// Cyan brand theme for app identity\nconst brandColor: MantineColorsTuple = [\n  '#f0fdff',\n  '#dff9fb',\n  '#c8f2f7',\n  '#aeeaf2',\n  '#84e0ea',\n  '#33cfe0',\n  '#19a6b0',\n  '#0b7b86',\n  '#07545f',\n  '#05383f',\n];\n\nconst accentNeutral: MantineColorsTuple = [\n  '#ffffff',\n  '#fafafa',\n  '#f5f5f5',\n  '#eeeeee',\n  '#e0e0e0',\n  '#bdbdbd',\n  '#9e9e9e',\n  '#757575',\n  '#616161',\n  '#424242',\n];\n\nexport const theme = createTheme({\n  // Brand colors (identity uses cyan)\n  colors: {\n    brand: brandColor,\n    neutral: accentNeutral,\n  },\n  primaryColor: 'brand',\n  \n  // Typography\n  fontFamily: 'Tajawal, Arial, sans-serif',\n  headings: {\n    fontFamily: 'Tajawal, Arial, sans-serif',\n    fontWeight: '700',\n  },\n  \n  // Default radius\n  defaultRadius: 'md',\n  \n  // Component defaults\n  components: {\n    Button: {\n      defaultProps: {\n        radius: 'md',\n      },\n    },\n    Card: {\n      defaultProps: {\n        radius: 'lg',\n        shadow: 'sm',\n      },\n    },\n    TextInput: {\n      defaultProps: {\n        radius: 'md',\n      },\n    },\n    Textarea: {\n      defaultProps: {\n        radius: 'md',\n      },\n    },\n    Select: {\n      defaultProps: {\n        radius: 'md',\n      },\n    },\n    NumberInput: {\n      defaultProps: {\n        radius: 'md',\n      },\n    },\n  },\n  \n  // Other settings\n  respectReducedMotion: true,\n  cursorType: 'pointer',\n});\n"],"names":[],"mappings":";;;;AAEA;AAFA;;AAIA,oCAAoC;AACpC,MAAM,aAAiC;IACrC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAED,MAAM,gBAAoC;IACxC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAEM,MAAM,QAAQ,IAAA,4NAAW,EAAC;IAC/B,oCAAoC;IACpC,QAAQ;QACN,OAAO;QACP,SAAS;IACX;IACA,cAAc;IAEd,aAAa;IACb,YAAY;IACZ,UAAU;QACR,YAAY;QACZ,YAAY;IACd;IAEA,iBAAiB;IACjB,eAAe;IAEf,qBAAqB;IACrB,YAAY;QACV,QAAQ;YACN,cAAc;gBACZ,QAAQ;YACV;QACF;QACA,MAAM;YACJ,cAAc;gBACZ,QAAQ;gBACR,QAAQ;YACV;QACF;QACA,WAAW;YACT,cAAc;gBACZ,QAAQ;YACV;QACF;QACA,UAAU;YACR,cAAc;gBACZ,QAAQ;YACV;QACF;QACA,QAAQ;YACN,cAAc;gBACZ,QAAQ;YACV;QACF;QACA,aAAa;YACX,cAAc;gBACZ,QAAQ;YACV;QACF;IACF;IAEA,iBAAiB;IACjB,sBAAsB;IACtB,YAAY;AACd"}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":["file:///Users/lamarkhalifa/projects/perfume-catalog/apps/web/src/lib/api.ts"],"sourcesContent":["import type {\n  Perfume,\n  Category,\n  Brand,\n  PaginatedResult,\n  PaginationParams,\n  PerfumeFilters,\n  SortOptions,\n  ApiResponse,\n  AuthResponse,\n  Admin,\n} from '@perfume-catalog/shared';\n\n// Get base URL for API calls (works in both server and client)\nfunction getBaseUrl(): string {\n  // Client-side\n  if (typeof window !== 'undefined') {\n    return '';\n  }\n  // Server-side - use localhost\n  return process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3000';\n}\n\n// Generic fetch helper\nasync function fetchApi<T>(\n  endpoint: string,\n  options?: RequestInit\n): Promise<ApiResponse<T>> {\n  const baseUrl = getBaseUrl();\n  const url = `${baseUrl}/api${endpoint}`;\n  \n  try {\n    const response = await fetch(url, {\n      ...options,\n      // Ensure cookies are sent from the browser so auth works on deployed sites\n      credentials: typeof window !== 'undefined' ? (options?.credentials ?? 'include') : options?.credentials,\n      headers: {\n        'Content-Type': 'application/json',\n        ...options?.headers,\n      },\n      cache: 'no-store', // Disable caching for API routes\n    });\n    return response.json();\n  } catch (error) {\n    console.error(`API Error fetching ${url}:`, error);\n    return { success: false, error: 'Network error' };\n  }\n}\n\n// ============================================\n// Perfume API Client\n// ============================================\nexport const perfumeApi = {\n  async getAll(\n    params: PaginationParams & PerfumeFilters & { search?: string },\n  ): Promise<ApiResponse<PaginatedResult<Perfume>>> {\n    const searchParams = new URLSearchParams({\n      page: params.page.toString(),\n      pageSize: params.pageSize.toString(),\n    });\n\n    if (params.categoryId) searchParams.set('categoryId', params.categoryId);\n    if (params.brandId) searchParams.set('brandId', params.brandId);\n    if (params.hasDiscount) searchParams.set('hasDiscount', 'true');\n    if (params.search) searchParams.set('search', params.search);\n\n    return fetchApi<PaginatedResult<Perfume>>(`/perfumes?${searchParams}`);\n  },\n\n  async getById(id: string): Promise<ApiResponse<Perfume>> {\n    return fetchApi<Perfume>(`/perfumes/${id}`);\n  },\n\n  async getMostSold(limit: number = 8): Promise<ApiResponse<Perfume[]>> {\n    return fetchApi<Perfume[]>(`/perfumes?endpoint=most-sold&limit=${limit}`);\n  },\n\n  async getDiscounted(limit?: number): Promise<ApiResponse<Perfume[]>> {\n    const url = limit ? `/perfumes?endpoint=discounted&limit=${limit}` : '/perfumes?endpoint=discounted';\n    return fetchApi<Perfume[]>(url);\n  },\n\n  async getRelated(perfumeId: string, categoryId: string, limit: number = 4): Promise<ApiResponse<Perfume[]>> {\n    return fetchApi<Perfume[]>(`/perfumes/${perfumeId}?related=true&categoryId=${categoryId}&limit=${limit}`);\n  },\n\n  async create(data: Partial<Perfume>): Promise<ApiResponse<Perfume>> {\n    return fetchApi<Perfume>('/perfumes', {\n      method: 'POST',\n      body: JSON.stringify(data),\n    });\n  },\n\n  async update(id: string, data: Partial<Perfume>): Promise<ApiResponse<Perfume>> {\n    return fetchApi<Perfume>(`/perfumes/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(data),\n    });\n  },\n\n  async delete(id: string): Promise<ApiResponse<{ id: string }>> {\n    return fetchApi<{ id: string }>(`/perfumes/${id}`, { method: 'DELETE' });\n  },\n\n  async updateDiscount(id: string, discount: number): Promise<ApiResponse<Perfume>> {\n    return fetchApi<Perfume>(`/perfumes/${id}`, {\n      method: 'PATCH',\n      body: JSON.stringify({ action: 'updateDiscount', discount }),\n    });\n  },\n};\n\n// ============================================\n// Category API Client\n// ============================================\nexport const categoryApi = {\n  async getAll(): Promise<ApiResponse<Category[]>> {\n    return fetchApi<Category[]>('/categories');\n  },\n\n  async getPaginated(params: PaginationParams): Promise<ApiResponse<PaginatedResult<Category>>> {\n    return fetchApi<PaginatedResult<Category>>(\n      `/categories?paginated=true&page=${params.page}&pageSize=${params.pageSize}`\n    );\n  },\n\n  async getById(id: string): Promise<ApiResponse<Category>> {\n    return fetchApi<Category>(`/categories/${id}`);\n  },\n\n  async getBySlug(slug: string): Promise<ApiResponse<Category>> {\n    return fetchApi<Category>(`/categories/${slug}`);\n  },\n\n  async getWithPerfumes(\n    idOrSlug: string,\n    params: PaginationParams\n  ): Promise<ApiResponse<{ category: Category; perfumes: PaginatedResult<Perfume> }>> {\n    return fetchApi<{ category: Category; perfumes: PaginatedResult<Perfume> }>(\n      `/categories/${idOrSlug}?perfumes=true&page=${params.page}&pageSize=${params.pageSize}`\n    );\n  },\n\n  async create(data: Partial<Category>): Promise<ApiResponse<Category>> {\n    return fetchApi<Category>('/categories', {\n      method: 'POST',\n      body: JSON.stringify(data),\n    });\n  },\n\n  async update(id: string, data: Partial<Category>): Promise<ApiResponse<Category>> {\n    return fetchApi<Category>(`/categories/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(data),\n    });\n  },\n\n  async delete(id: string): Promise<ApiResponse<{ id: string }>> {\n    return fetchApi<{ id: string }>(`/categories/${id}`, { method: 'DELETE' });\n  },\n};\n\n// ============================================\n// Brand API Client\n// ============================================\nexport const brandApi = {\n  async getAll(): Promise<ApiResponse<Brand[]>> {\n    return fetchApi<Brand[]>('/brands');\n  },\n\n  async getPaginated(params: PaginationParams): Promise<ApiResponse<PaginatedResult<Brand>>> {\n    return fetchApi<PaginatedResult<Brand>>(\n      `/brands?paginated=true&page=${params.page}&pageSize=${params.pageSize}`\n    );\n  },\n\n  async getById(id: string): Promise<ApiResponse<Brand>> {\n    return fetchApi<Brand>(`/brands/${id}`);\n  },\n\n  async getBySlug(slug: string): Promise<ApiResponse<Brand>> {\n    return fetchApi<Brand>(`/brands/${slug}`);\n  },\n\n  async getWithPerfumes(\n    idOrSlug: string,\n    params: PaginationParams\n  ): Promise<ApiResponse<{ brand: Brand; perfumes: PaginatedResult<Perfume> }>> {\n    return fetchApi<{ brand: Brand; perfumes: PaginatedResult<Perfume> }>(\n      `/brands/${idOrSlug}?perfumes=true&page=${params.page}&pageSize=${params.pageSize}`\n    );\n  },\n\n  async create(data: Partial<Brand>): Promise<ApiResponse<Brand>> {\n    return fetchApi<Brand>('/brands', {\n      method: 'POST',\n      body: JSON.stringify(data),\n    });\n  },\n\n  async update(id: string, data: Partial<Brand>): Promise<ApiResponse<Brand>> {\n    return fetchApi<Brand>(`/brands/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(data),\n    });\n  },\n\n  async delete(id: string): Promise<ApiResponse<{ id: string }>> {\n    return fetchApi<{ id: string }>(`/brands/${id}`, { method: 'DELETE' });\n  },\n};\n\n// ============================================\n// Auth API Client\n// ============================================\nexport const authApi = {\n  async signIn(email: string, password: string): Promise<ApiResponse<AuthResponse>> {\n    return fetchApi<AuthResponse>('/auth', {\n      method: 'POST',\n      body: JSON.stringify({ email, password }),\n    });\n  },\n\n  async getCurrentUser(): Promise<ApiResponse<Admin>> {\n    return fetchApi<Admin>('/auth');\n  },\n\n  async signOut(): Promise<ApiResponse<void>> {\n    return fetchApi<void>('/auth', { method: 'DELETE' });\n  },\n};\n\n// ============================================\n// Discount API Client\n// ============================================\nexport const discountApi = {\n  async getAll(limit?: number): Promise<ApiResponse<Perfume[]>> {\n    const url = limit ? `/discounts?limit=${limit}` : '/discounts';\n    return fetchApi<Perfume[]>(url);\n  },\n\n  async apply(perfumeId: string, discount: number): Promise<ApiResponse<Perfume>> {\n    return fetchApi<Perfume>('/discounts', {\n      method: 'POST',\n      body: JSON.stringify({ perfumeId, discount }),\n    });\n  },\n\n  async remove(perfumeId: string): Promise<ApiResponse<Perfume>> {\n    return fetchApi<Perfume>('/discounts', {\n      method: 'DELETE',\n      body: JSON.stringify({ perfumeId }),\n    });\n  },\n};\n\n// ============================================\n// Image Helper\n// ============================================\nexport const imageHelper = {\n  getPlaceholder(width: number = 400, height: number = 400): string {\n    return `https://placehold.co/${width}x${height}/e9d5ff/6b21a8?text=عطر`;\n  },\n};\n\n// ============================================\n// Upload API Client\n// ============================================\nexport const uploadApi = {\n  async upload(file: File): Promise<ApiResponse<{ url: string; filename: string }>> {\n    const baseUrl = getBaseUrl();\n    const formData = new FormData();\n    formData.append('file', file);\n\n    try {\n      const response = await fetch(`${baseUrl}/api/upload`, {\n        method: 'POST',\n        body: formData,\n      });\n      return response.json();\n    } catch (error) {\n      console.error('Upload error:', error);\n      return { success: false, error: 'فشل رفع الملف' };\n    }\n  },\n\n  async delete(filename: string): Promise<ApiResponse<{ filename: string }>> {\n    const baseUrl = getBaseUrl();\n    try {\n      const response = await fetch(`${baseUrl}/api/upload`, {\n        method: 'DELETE',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ filename }),\n      });\n      return response.json();\n    } catch (error) {\n      console.error('Delete error:', error);\n      return { success: false, error: 'فشل حذف الملف' };\n    }\n  },\n\n  async uploadMultiple(files: File[]): Promise<ApiResponse<{ urls: string[] }>> {\n    const results: string[] = [];\n    const errors: string[] = [];\n\n    for (const file of files) {\n      const result = await this.upload(file);\n      if (result.success && result.data) {\n        results.push(result.data.url);\n      } else {\n        errors.push(result.error || 'Upload failed');\n      }\n    }\n\n    if (errors.length > 0 && results.length === 0) {\n      return { success: false, error: errors.join(', ') };\n    }\n\n    return { success: true, data: { urls: results } };\n  },\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 384, "column": 0}, "map": {"version":3,"sources":["file:///Users/lamarkhalifa/projects/perfume-catalog/apps/web/src/contexts/AuthContext.tsx"],"sourcesContent":["'use client';\n\nimport { createContext, useContext, useEffect, useState, ReactNode } from 'react';\nimport { authApi } from '@/lib/api';\nimport type { Admin } from '@perfume-catalog/shared';\n\ninterface AuthContextType {\n  user: Admin | null;\n  loading: boolean;\n  signIn: (email: string, password: string) => Promise<void>;\n  signOut: () => Promise<void>;\n  isAuthenticated: boolean;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n  const [user, setUser] = useState<Admin | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    // Check if user is already logged in\n    checkAuth();\n  }, []);\n\n  const checkAuth = async () => {\n    try {\n      const currentUser = await authApi.getCurrentUser();\n      if (currentUser.success && currentUser.data) {\n        setUser(currentUser.data);\n      } else {\n        setUser(null);\n      }\n    } catch {\n      setUser(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const signIn = async (email: string, password: string) => {\n    const result = await authApi.signIn(email, password);\n    if (result.success && result.data && result.data.user) {\n      setUser(result.data.user);\n    }\n  };\n\n  const signOut = async () => {\n    await authApi.signOut();\n    setUser(null);\n  };\n\n  return (\n    <AuthContext.Provider value={{ \n      user, \n      loading, \n      signIn, \n      signOut, \n      isAuthenticated: !!user \n    }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;;;AAHA;;;AAcA,MAAM,4BAAc,IAAA,8KAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAA2B;;IAChE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAe;IAC/C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;kCAAC;YACR,qCAAqC;YACrC;QACF;iCAAG,EAAE;IAEL,MAAM,YAAY;QAChB,IAAI;YACF,MAAM,cAAc,MAAM,8IAAO,CAAC,cAAc;YAChD,IAAI,YAAY,OAAO,IAAI,YAAY,IAAI,EAAE;gBAC3C,QAAQ,YAAY,IAAI;YAC1B,OAAO;gBACL,QAAQ;YACV;QACF,EAAE,OAAM;YACN,QAAQ;QACV,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,SAAS,OAAO,OAAe;QACnC,MAAM,SAAS,MAAM,8IAAO,CAAC,MAAM,CAAC,OAAO;QAC3C,IAAI,OAAO,OAAO,IAAI,OAAO,IAAI,IAAI,OAAO,IAAI,CAAC,IAAI,EAAE;YACrD,QAAQ,OAAO,IAAI,CAAC,IAAI;QAC1B;IACF;IAEA,MAAM,UAAU;QACd,MAAM,8IAAO,CAAC,OAAO;QACrB,QAAQ;IACV;IAEA,qBACE,6LAAC,YAAY,QAAQ;QAAC,OAAO;YAC3B;YACA;YACA;YACA;YACA,iBAAiB,CAAC,CAAC;QACrB;kBACG;;;;;;AAGP;GA/CgB;KAAA;AAiDT,SAAS;;IACd,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB"}}]
}