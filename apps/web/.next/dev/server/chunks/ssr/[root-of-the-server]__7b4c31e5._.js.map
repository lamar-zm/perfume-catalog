{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///Users/lamarkhalifa/projects/perfume-catalog/apps/web/src/lib/api.ts"],"sourcesContent":["import type {\n  Perfume,\n  Category,\n  Brand,\n  PaginatedResult,\n  PaginationParams,\n  PerfumeFilters,\n  SortOptions,\n  ApiResponse,\n  AuthResponse,\n  Admin,\n} from '@perfume-catalog/shared';\n\nconst API_BASE = '/api';\n\n// Generic fetch helper\nasync function fetchApi<T>(\n  endpoint: string,\n  options?: RequestInit\n): Promise<ApiResponse<T>> {\n  const response = await fetch(`${API_BASE}${endpoint}`, {\n    ...options,\n    headers: {\n      'Content-Type': 'application/json',\n      ...options?.headers,\n    },\n  });\n  return response.json();\n}\n\n// ============================================\n// Perfume API Client\n// ============================================\nexport const perfumeApi = {\n  async getAll(\n    params: PaginationParams,\n    filters?: PerfumeFilters,\n    sort?: SortOptions\n  ): Promise<PaginatedResult<Perfume>> {\n    const searchParams = new URLSearchParams({\n      page: params.page.toString(),\n      pageSize: params.pageSize.toString(),\n    });\n\n    if (filters?.categoryId) searchParams.set('categoryId', filters.categoryId);\n    if (filters?.brandId) searchParams.set('brandId', filters.brandId);\n    if (filters?.isFeatured !== undefined) searchParams.set('isFeatured', filters.isFeatured.toString());\n    if (filters?.hasDiscount) searchParams.set('hasDiscount', 'true');\n    if (filters?.search) searchParams.set('search', filters.search);\n    if (sort?.field) searchParams.set('sortField', sort.field);\n    if (sort?.direction) searchParams.set('sortDirection', sort.direction);\n\n    const res = await fetchApi<PaginatedResult<Perfume>>(`/perfumes?${searchParams}`);\n    if (!res.success || !res.data) throw new Error(res.error || 'فشل تحميل العطور');\n    return res.data;\n  },\n\n  async getById(id: string): Promise<Perfume | null> {\n    const res = await fetchApi<Perfume>(`/perfumes/${id}`);\n    return res.success ? res.data! : null;\n  },\n\n  async getMostSold(limit: number = 8): Promise<Perfume[]> {\n    const res = await fetchApi<Perfume[]>(`/perfumes?endpoint=most-sold&limit=${limit}`);\n    return res.success ? res.data! : [];\n  },\n\n  async getFeatured(limit: number = 8): Promise<Perfume[]> {\n    const res = await fetchApi<Perfume[]>(`/perfumes?endpoint=featured&limit=${limit}`);\n    return res.success ? res.data! : [];\n  },\n\n  async getDiscounted(limit?: number): Promise<Perfume[]> {\n    const url = limit ? `/perfumes?endpoint=discounted&limit=${limit}` : '/perfumes?endpoint=discounted';\n    const res = await fetchApi<Perfume[]>(url);\n    return res.success ? res.data! : [];\n  },\n\n  async getByCategory(categoryId: string, params: PaginationParams): Promise<PaginatedResult<Perfume>> {\n    return this.getAll(params, { categoryId });\n  },\n\n  async getByBrand(brandId: string, params: PaginationParams): Promise<PaginatedResult<Perfume>> {\n    return this.getAll(params, { brandId });\n  },\n\n  async getRelated(perfumeId: string, limit: number = 4): Promise<Perfume[]> {\n    const res = await fetchApi<Perfume[]>(`/perfumes/${perfumeId}?related=true&limit=${limit}`);\n    return res.success ? res.data! : [];\n  },\n\n  async create(data: Partial<Perfume>): Promise<Perfume> {\n    const res = await fetchApi<Perfume>('/perfumes', {\n      method: 'POST',\n      body: JSON.stringify(data),\n    });\n    if (!res.success || !res.data) throw new Error(res.error || 'فشل إضافة العطر');\n    return res.data;\n  },\n\n  async update(id: string, data: Partial<Perfume>): Promise<Perfume> {\n    const res = await fetchApi<Perfume>(`/perfumes/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(data),\n    });\n    if (!res.success || !res.data) throw new Error(res.error || 'فشل تحديث العطر');\n    return res.data;\n  },\n\n  async delete(id: string): Promise<boolean> {\n    const res = await fetchApi<{ id: string }>(`/perfumes/${id}`, { method: 'DELETE' });\n    return res.success;\n  },\n\n  async toggleFeatured(id: string): Promise<Perfume> {\n    const res = await fetchApi<Perfume>(`/perfumes/${id}`, {\n      method: 'PATCH',\n      body: JSON.stringify({ action: 'toggleFeatured' }),\n    });\n    if (!res.success || !res.data) throw new Error(res.error || 'فشل تحديث العطر');\n    return res.data;\n  },\n\n  async updateDiscount(id: string, discount: number): Promise<Perfume> {\n    const res = await fetchApi<Perfume>(`/perfumes/${id}`, {\n      method: 'PATCH',\n      body: JSON.stringify({ action: 'updateDiscount', discount }),\n    });\n    if (!res.success || !res.data) throw new Error(res.error || 'فشل تحديث الخصم');\n    return res.data;\n  },\n};\n\n// ============================================\n// Category API Client\n// ============================================\nexport const categoryApi = {\n  async getAll(): Promise<Category[]> {\n    const res = await fetchApi<Category[]>('/categories');\n    return res.success ? res.data! : [];\n  },\n\n  async getPaginated(params: PaginationParams): Promise<PaginatedResult<Category>> {\n    const res = await fetchApi<PaginatedResult<Category>>(\n      `/categories?paginated=true&page=${params.page}&pageSize=${params.pageSize}`\n    );\n    if (!res.success || !res.data) throw new Error(res.error || 'فشل تحميل التصنيفات');\n    return res.data;\n  },\n\n  async getById(id: string): Promise<Category | null> {\n    const res = await fetchApi<Category>(`/categories/${id}`);\n    return res.success ? res.data! : null;\n  },\n\n  async getBySlug(slug: string): Promise<Category | null> {\n    const res = await fetchApi<Category>(`/categories/${slug}`);\n    return res.success ? res.data! : null;\n  },\n\n  async getWithPerfumes(\n    idOrSlug: string,\n    params: PaginationParams\n  ): Promise<{ category: Category; perfumes: PaginatedResult<Perfume> } | null> {\n    const res = await fetchApi<{ category: Category; perfumes: PaginatedResult<Perfume> }>(\n      `/categories/${idOrSlug}?perfumes=true&page=${params.page}&pageSize=${params.pageSize}`\n    );\n    return res.success ? res.data! : null;\n  },\n\n  async create(data: Partial<Category>): Promise<Category> {\n    const res = await fetchApi<Category>('/categories', {\n      method: 'POST',\n      body: JSON.stringify(data),\n    });\n    if (!res.success || !res.data) throw new Error(res.error || 'فشل إضافة التصنيف');\n    return res.data;\n  },\n\n  async update(id: string, data: Partial<Category>): Promise<Category> {\n    const res = await fetchApi<Category>(`/categories/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(data),\n    });\n    if (!res.success || !res.data) throw new Error(res.error || 'فشل تحديث التصنيف');\n    return res.data;\n  },\n\n  async delete(id: string): Promise<boolean> {\n    const res = await fetchApi<{ id: string }>(`/categories/${id}`, { method: 'DELETE' });\n    return res.success;\n  },\n};\n\n// ============================================\n// Brand API Client\n// ============================================\nexport const brandApi = {\n  async getAll(): Promise<Brand[]> {\n    const res = await fetchApi<Brand[]>('/brands');\n    return res.success ? res.data! : [];\n  },\n\n  async getPaginated(params: PaginationParams): Promise<PaginatedResult<Brand>> {\n    const res = await fetchApi<PaginatedResult<Brand>>(\n      `/brands?paginated=true&page=${params.page}&pageSize=${params.pageSize}`\n    );\n    if (!res.success || !res.data) throw new Error(res.error || 'فشل تحميل الماركات');\n    return res.data;\n  },\n\n  async getById(id: string): Promise<Brand | null> {\n    const res = await fetchApi<Brand>(`/brands/${id}`);\n    return res.success ? res.data! : null;\n  },\n\n  async getBySlug(slug: string): Promise<Brand | null> {\n    const res = await fetchApi<Brand>(`/brands/${slug}`);\n    return res.success ? res.data! : null;\n  },\n\n  async getWithPerfumes(\n    idOrSlug: string,\n    params: PaginationParams\n  ): Promise<{ brand: Brand; perfumes: PaginatedResult<Perfume> } | null> {\n    const res = await fetchApi<{ brand: Brand; perfumes: PaginatedResult<Perfume> }>(\n      `/brands/${idOrSlug}?perfumes=true&page=${params.page}&pageSize=${params.pageSize}`\n    );\n    return res.success ? res.data! : null;\n  },\n\n  async create(data: Partial<Brand>): Promise<Brand> {\n    const res = await fetchApi<Brand>('/brands', {\n      method: 'POST',\n      body: JSON.stringify(data),\n    });\n    if (!res.success || !res.data) throw new Error(res.error || 'فشل إضافة الماركة');\n    return res.data;\n  },\n\n  async update(id: string, data: Partial<Brand>): Promise<Brand> {\n    const res = await fetchApi<Brand>(`/brands/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(data),\n    });\n    if (!res.success || !res.data) throw new Error(res.error || 'فشل تحديث الماركة');\n    return res.data;\n  },\n\n  async delete(id: string): Promise<boolean> {\n    const res = await fetchApi<{ id: string }>(`/brands/${id}`, { method: 'DELETE' });\n    return res.success;\n  },\n};\n\n// ============================================\n// Auth API Client\n// ============================================\nexport const authApi = {\n  async signIn(email: string, password: string): Promise<AuthResponse> {\n    const res = await fetchApi<AuthResponse>('/auth', {\n      method: 'POST',\n      body: JSON.stringify({ email, password }),\n    });\n    if (!res.success || !res.data) throw new Error(res.error || 'فشل تسجيل الدخول');\n    return res.data;\n  },\n\n  async getCurrentUser(): Promise<Admin | null> {\n    const res = await fetchApi<Admin>('/auth');\n    return res.success ? res.data! : null;\n  },\n\n  async signOut(): Promise<void> {\n    await fetchApi('/auth', { method: 'DELETE' });\n  },\n};\n\n// ============================================\n// Discount API Client\n// ============================================\nexport const discountApi = {\n  async getAll(limit?: number): Promise<Perfume[]> {\n    const url = limit ? `/discounts?limit=${limit}` : '/discounts';\n    const res = await fetchApi<Perfume[]>(url);\n    return res.success ? res.data! : [];\n  },\n\n  async apply(perfumeId: string, discount: number): Promise<Perfume> {\n    const res = await fetchApi<Perfume>('/discounts', {\n      method: 'POST',\n      body: JSON.stringify({ perfumeId, discount }),\n    });\n    if (!res.success || !res.data) throw new Error(res.error || 'فشل تطبيق الخصم');\n    return res.data;\n  },\n\n  async remove(perfumeId: string): Promise<Perfume> {\n    const res = await fetchApi<Perfume>('/discounts', {\n      method: 'DELETE',\n      body: JSON.stringify({ perfumeId }),\n    });\n    if (!res.success || !res.data) throw new Error(res.error || 'فشل إزالة الخصم');\n    return res.data;\n  },\n};\n\n// ============================================\n// Image Helper\n// ============================================\nexport const imageHelper = {\n  getPlaceholder(width: number = 400, height: number = 400): string {\n    return `https://placehold.co/${width}x${height}/e9d5ff/6b21a8?text=عطر`;\n  },\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 293, "column": 0}, "map": {"version":3,"sources":["file:///Users/lamarkhalifa/projects/perfume-catalog/apps/web/src/services/index.ts"],"sourcesContent":["// Re-export API client as services for backward compatibility\nexport { \n  perfumeApi as perfumeService,\n  categoryApi as categoryService,\n  brandApi as brandService,\n  authApi as authService,\n  discountApi as discountService,\n  imageHelper as imageService,\n} from '@/lib/api';\n"],"names":[],"mappings":";AAAA,8DAA8D;AAC9D"}},
    {"offset": {"line": 379, "column": 0}, "map": {"version":3,"sources":["file:///Users/lamarkhalifa/projects/perfume-catalog/apps/web/src/app/%28public%29/HeroSection.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const HeroSection = registerClientReference(\n    function() { throw new Error(\"Attempted to call HeroSection() from the server but HeroSection is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/src/app/(public)/HeroSection.tsx <module evaluation>\",\n    \"HeroSection\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,cAAc,IAAA,wQAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,2EACA","ignoreList":[0]}},
    {"offset": {"line": 393, "column": 0}, "map": {"version":3,"sources":["file:///Users/lamarkhalifa/projects/perfume-catalog/apps/web/src/app/%28public%29/HeroSection.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const HeroSection = registerClientReference(\n    function() { throw new Error(\"Attempted to call HeroSection() from the server but HeroSection is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/src/app/(public)/HeroSection.tsx\",\n    \"HeroSection\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,cAAc,IAAA,wQAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,uDACA","ignoreList":[0]}},
    {"offset": {"line": 407, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 415, "column": 0}, "map": {"version":3,"sources":["file:///Users/lamarkhalifa/projects/perfume-catalog/apps/web/src/app/%28public%29/FeaturedSection.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const FeaturedSection = registerClientReference(\n    function() { throw new Error(\"Attempted to call FeaturedSection() from the server but FeaturedSection is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/src/app/(public)/FeaturedSection.tsx <module evaluation>\",\n    \"FeaturedSection\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,kBAAkB,IAAA,wQAAuB,EAClD;IAAa,MAAM,IAAI,MAAM;AAA8O,GAC3Q,+EACA","ignoreList":[0]}},
    {"offset": {"line": 429, "column": 0}, "map": {"version":3,"sources":["file:///Users/lamarkhalifa/projects/perfume-catalog/apps/web/src/app/%28public%29/FeaturedSection.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const FeaturedSection = registerClientReference(\n    function() { throw new Error(\"Attempted to call FeaturedSection() from the server but FeaturedSection is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/src/app/(public)/FeaturedSection.tsx\",\n    \"FeaturedSection\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,kBAAkB,IAAA,wQAAuB,EAClD;IAAa,MAAM,IAAI,MAAM;AAA8O,GAC3Q,2DACA","ignoreList":[0]}},
    {"offset": {"line": 443, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 451, "column": 0}, "map": {"version":3,"sources":["file:///Users/lamarkhalifa/projects/perfume-catalog/apps/web/src/app/%28public%29/page.tsx"],"sourcesContent":["import { Stack, Box, SimpleGrid } from '@mantine/core';\nimport { perfumeApi, categoryApi, brandApi } from '@/services';\nimport { PerfumeGrid, CategoryGrid, SectionHeader, BrandCard } from '@/components';\nimport { HeroSection } from './HeroSection';\nimport { FeaturedSection } from './FeaturedSection';\n\nexport default async function HomePage() {\n  // Fetch data from API\n  const [mostSoldRes, featuredRes, categoriesRes, allPerfumesRes, brandsRes] = await Promise.all([\n    perfumeApi.getMostSold(8),\n    perfumeApi.getFeatured(4),\n    categoryApi.getAll(),\n    perfumeApi.getAll({ page: 1, pageSize: 8 }),\n    brandApi.getAll(),\n  ]);\n\n  const mostSold = mostSoldRes.success ? mostSoldRes.data : [];\n  const featured = featuredRes.success ? featuredRes.data : [];\n  const categories = categoriesRes.success ? categoriesRes.data : [];\n  const allPerfumes = allPerfumesRes.success ? allPerfumesRes.data : { data: [], total: 0, page: 1, pageSize: 8, totalPages: 0 };\n  const brands = brandsRes.success ? brandsRes.data : [];\n\n  return (\n    <Stack gap={60}>\n      {/* Hero Section */}\n      <HeroSection />\n\n      {/* 1. Most Sold Section */}\n      <Box>\n        <SectionHeader\n          title=\"الأكثر مبيعاً\"\n          subtitle=\"العطور الأكثر طلباً من عملائنا المميزين\"\n          viewAllLink=\"/categories\"\n          viewAllText=\"عرض جميع العطور\"\n        />\n        <PerfumeGrid\n          perfumes={mostSold}\n          categories={categories}\n          showCategory\n        />\n      </Box>\n\n      {/* 2. Categories Section */}\n      <Box\n        py={40}\n        px={20}\n        style={{\n          background: 'linear-gradient(180deg, #fefbf3 0%, #fdf4f5 100%)',\n          borderRadius: 'var(--mantine-radius-xl)',\n          margin: '0 -1rem',\n        }}\n      >\n        <SectionHeader\n          title=\"التصنيفات\"\n          subtitle=\"تصفح مجموعاتنا المتنوعة من العطور الفاخرة\"\n        />\n        <CategoryGrid categories={categories} />\n      </Box>\n\n      {/* 3. Brands Section */}\n      <Box>\n        <SectionHeader\n          title=\"الماركات العالمية\"\n          subtitle=\"أشهر دور العطور العالمية والعربية\"\n        />\n        <SimpleGrid cols={{ base: 2, sm: 3, md: 4, lg: 6 }} spacing=\"lg\">\n          {brands.map((brand) => (\n            <BrandCard key={brand.id} brand={brand} />\n          ))}\n        </SimpleGrid>\n      </Box>\n\n      {/* 4. Featured Products Section */}\n      {featured.length > 0 && (\n        <FeaturedSection perfumes={featured} categories={categories} />\n      )}\n\n      {/* 5. All Products Preview */}\n      <Box>\n        <SectionHeader\n          title=\"أحدث المنتجات\"\n          subtitle=\"استكشف آخر الإضافات لمجموعتنا\"\n          viewAllLink=\"/categories\"\n          viewAllText=\"تصفح جميع العطور\"\n        />\n        <PerfumeGrid\n          perfumes={allPerfumes.data}\n          categories={categories}\n          showCategory\n        />\n      </Box>\n    </Stack>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;;AAEe,eAAe;IAC5B,sBAAsB;IACtB,MAAM,CAAC,aAAa,aAAa,eAAe,gBAAgB,UAAU,GAAG,MAAM,QAAQ,GAAG,CAAC;QAC7F,qJAAU,CAAC,WAAW,CAAC;QACvB,qJAAU,CAAC,WAAW,CAAC;QACvB,sJAAW,CAAC,MAAM;QAClB,qJAAU,CAAC,MAAM,CAAC;YAAE,MAAM;YAAG,UAAU;QAAE;QACzC,mJAAQ,CAAC,MAAM;KAChB;IAED,MAAM,WAAW,YAAY,OAAO,GAAG,YAAY,IAAI,GAAG,EAAE;IAC5D,MAAM,WAAW,YAAY,OAAO,GAAG,YAAY,IAAI,GAAG,EAAE;IAC5D,MAAM,aAAa,cAAc,OAAO,GAAG,cAAc,IAAI,GAAG,EAAE;IAClE,MAAM,cAAc,eAAe,OAAO,GAAG,eAAe,IAAI,GAAG;QAAE,MAAM,EAAE;QAAE,OAAO;QAAG,MAAM;QAAG,UAAU;QAAG,YAAY;IAAE;IAC7H,MAAM,SAAS,UAAU,OAAO,GAAG,UAAU,IAAI,GAAG,EAAE;IAEtD,qBACE,8OAAC,kLAAK;QAAC,KAAK;;0BAEV,8OAAC,sKAAW;;;;;0BAGZ,8OAAC,sKAAG;;kCACF,8OAAC,gKAAa;wBACZ,OAAM;wBACN,UAAS;wBACT,aAAY;wBACZ,aAAY;;;;;;kCAEd,8OAAC,mKAAW;wBACV,UAAU;wBACV,YAAY;wBACZ,YAAY;;;;;;;;;;;;0BAKhB,8OAAC,sKAAG;gBACF,IAAI;gBACJ,IAAI;gBACJ,OAAO;oBACL,YAAY;oBACZ,cAAc;oBACd,QAAQ;gBACV;;kCAEA,8OAAC,gKAAa;wBACZ,OAAM;wBACN,UAAS;;;;;;kCAEX,8OAAC,qKAAY;wBAAC,YAAY;;;;;;;;;;;;0BAI5B,8OAAC,sKAAG;;kCACF,8OAAC,gKAAa;wBACZ,OAAM;wBACN,UAAS;;;;;;kCAEX,8OAAC,iMAAU;wBAAC,MAAM;4BAAE,MAAM;4BAAG,IAAI;4BAAG,IAAI;4BAAG,IAAI;wBAAE;wBAAG,SAAQ;kCACzD,OAAO,GAAG,CAAC,CAAC,sBACX,8OAAC,+JAAS;gCAAgB,OAAO;+BAAjB,MAAM,EAAE;;;;;;;;;;;;;;;;YAM7B,SAAS,MAAM,GAAG,mBACjB,8OAAC,8KAAe;gBAAC,UAAU;gBAAU,YAAY;;;;;;0BAInD,8OAAC,sKAAG;;kCACF,8OAAC,gKAAa;wBACZ,OAAM;wBACN,UAAS;wBACT,aAAY;wBACZ,aAAY;;;;;;kCAEd,8OAAC,mKAAW;wBACV,UAAU,YAAY,IAAI;wBAC1B,YAAY;wBACZ,YAAY;;;;;;;;;;;;;;;;;;AAKtB"}}]
}