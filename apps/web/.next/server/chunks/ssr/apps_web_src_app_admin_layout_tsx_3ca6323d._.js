module.exports=[54654,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(86271),f=a.i(65268),g=a.i(59495),h=a.i(98621),i=a.i(94020),j=a.i(36387),k=a.i(95667),l=a.i(96011);let[m,n]=(0,a.i(8322).createSafeContext)("AppShell was not found in tree");var o={root:"m_89ab340",navbar:"m_45252eee",aside:"m_9cdde9a",header:"m_3b16f56b",main:"m_8983817",footer:"m_3840c879",section:"m_6dcfc7c7"},p=a.i(52081);let q=(0,l.factory)((a,c)=>{let{classNames:d,className:e,style:f,styles:g,unstyled:j,vars:l,withBorder:m,zIndex:o,mod:q,...r}=(0,i.useProps)("AppShellAside",null,a),s=n();return s.disabled?null:(0,b.jsx)(k.Box,{component:"aside",ref:c,mod:[{"with-border":m??s.withBorder},q],...s.getStyles("aside",{className:(0,h.default)({[p.RemoveScroll.classNames.zeroRight]:s.offsetScrollbars},e),classNames:d,styles:g,style:f}),...r,__vars:{"--app-shell-aside-z-index":`calc(${o??s.zIndex} + 1)`}})});q.classes=o,q.displayName="@mantine/core/AppShellAside";let r=(0,l.factory)((a,c)=>{let{classNames:d,className:e,style:f,styles:g,unstyled:j,vars:l,withBorder:m,zIndex:o,mod:q,...r}=(0,i.useProps)("AppShellFooter",null,a),s=n();return s.disabled?null:(0,b.jsx)(k.Box,{component:"footer",ref:c,mod:[{"with-border":m??s.withBorder},q],...s.getStyles("footer",{className:(0,h.default)({[p.RemoveScroll.classNames.zeroRight]:s.offsetScrollbars},e),classNames:d,styles:g,style:f}),...r,__vars:{"--app-shell-footer-z-index":(o??s.zIndex)?.toString()}})});r.classes=o,r.displayName="@mantine/core/AppShellFooter";let s=(0,l.factory)((a,c)=>{let{classNames:d,className:e,style:f,styles:g,unstyled:j,vars:l,withBorder:m,zIndex:o,mod:q,...r}=(0,i.useProps)("AppShellHeader",null,a),s=n();return s.disabled?null:(0,b.jsx)(k.Box,{component:"header",ref:c,mod:[{"with-border":m??s.withBorder},q],...s.getStyles("header",{className:(0,h.default)({[p.RemoveScroll.classNames.zeroRight]:s.offsetScrollbars},e),classNames:d,styles:g,style:f}),...r,__vars:{"--app-shell-header-z-index":(o??s.zIndex)?.toString()}})});s.classes=o,s.displayName="@mantine/core/AppShellHeader";let t=(0,l.factory)((a,c)=>{let{classNames:d,className:e,style:f,styles:g,vars:h,...j}=(0,i.useProps)("AppShellMain",null,a),l=n();return(0,b.jsx)(k.Box,{component:"main",ref:c,...l.getStyles("main",{className:e,style:f,classNames:d,styles:g}),...j})});t.classes=o,t.displayName="@mantine/core/AppShellMain";var u=a.i(94411),v=a.i(64438),w=a.i(82827),x=a.i(1118),y=a.i(44326),z=a.i(73305),A=a.i(94032);function B(a){return"object"==typeof a?a.base:a}function C(a){let b="object"==typeof a&&null!==a&&void 0!==a.base&&1===Object.keys(a).length;return"number"==typeof a||"string"==typeof a||b}function D(a){return"object"==typeof a&&null!==a&&(1!==Object.keys(a).length||!("base"in a))}var E=a.i(61478);function F(a){return 0===Number(a)?"0px":(0,E.getSpacing)(a)}function G({navbar:a,header:c,aside:d,footer:e,padding:f,mode:g,selector:h}){let i=(0,v.useMantineTheme)(),j=(0,u.useMantineContext)(),{media:k,baseStyles:l}=function({navbar:a,header:b,footer:c,aside:d,padding:e,theme:f,mode:g}){let h={},i={},j={};return"static"===g&&(j["--app-shell-main-grid-column"]="1 / -1",j["--app-shell-main-grid-row"]="2"),function({baseStyles:a,minMediaStyles:b,maxMediaStyles:c,navbar:d,theme:e,mode:f}){let g=d?.width,h="translateX(calc(var(--app-shell-navbar-width) * -1))",i="translateX(var(--app-shell-navbar-width))";if(d?.breakpoint&&!d?.collapsed?.mobile&&(c[d?.breakpoint]=c[d?.breakpoint]||{},c[d?.breakpoint]["--app-shell-navbar-offset"]="0px",c[d?.breakpoint]["--app-shell-navbar-width"]="100%","static"===f&&(c[d?.breakpoint]["--app-shell-navbar-grid-width"]="0px")),C(g)){let b=(0,y.rem)(B(g));a["--app-shell-navbar-width"]=b,a["--app-shell-navbar-offset"]=b,"static"===f&&(a["--app-shell-navbar-grid-width"]=b)}if(D(g)&&(void 0!==g.base&&(a["--app-shell-navbar-width"]=(0,y.rem)(g.base),a["--app-shell-navbar-offset"]=(0,y.rem)(g.base),"static"===f&&(a["--app-shell-navbar-grid-width"]=(0,y.rem)(g.base))),(0,x.keys)(g).forEach(a=>{"base"!==a&&(b[a]=b[a]||{},b[a]["--app-shell-navbar-width"]=(0,y.rem)(g[a]),b[a]["--app-shell-navbar-offset"]=(0,y.rem)(g[a]),"static"===f&&(b[a]["--app-shell-navbar-grid-width"]=(0,y.rem)(g[a])))})),d?.breakpoint&&"static"===f&&(b[d.breakpoint]=b[d.breakpoint]||{},b[d.breakpoint]["--app-shell-navbar-position"]="sticky",b[d.breakpoint]["--app-shell-navbar-grid-row"]="2",b[d.breakpoint]["--app-shell-navbar-grid-column"]="1",b[d.breakpoint]["--app-shell-main-column-start"]="2"),d?.collapsed?.desktop){let a=d.breakpoint;b[a]=b[a]||{},b[a]["--app-shell-navbar-transform"]=h,b[a]["--app-shell-navbar-transform-rtl"]=i,"fixed"===f?b[a]["--app-shell-navbar-offset"]="0px !important":(b[a]["--app-shell-navbar-width"]="0px",b[a]["--app-shell-navbar-display"]="none",b[a]["--app-shell-main-column-start"]="1")}if(d?.collapsed?.mobile){let a=(0,A.getBreakpointValue)(d.breakpoint,e.breakpoints)-.1;c[a]=c[a]||{},c[a]["--app-shell-navbar-width"]="100%",c[a]["--app-shell-navbar-offset"]="0px","static"===f&&(c[a]["--app-shell-navbar-grid-width"]="0px"),c[a]["--app-shell-navbar-transform"]=h,c[a]["--app-shell-navbar-transform-rtl"]=i}}({baseStyles:j,minMediaStyles:h,maxMediaStyles:i,navbar:a,theme:f,mode:g}),function({baseStyles:a,minMediaStyles:b,maxMediaStyles:c,aside:d,theme:e,mode:f}){let g=d?.width,h="translateX(var(--app-shell-aside-width))",i="translateX(calc(var(--app-shell-aside-width) * -1))";if(d?.breakpoint&&!d?.collapsed?.mobile&&(c[d?.breakpoint]=c[d?.breakpoint]||{},"fixed"===f?c[d?.breakpoint]["--app-shell-aside-width"]="100%":c[d?.breakpoint]["--app-shell-aside-width"]="0px",c[d?.breakpoint]["--app-shell-aside-offset"]="0px"),C(g)){let b=(0,y.rem)(B(g));a["--app-shell-aside-width"]=b,a["--app-shell-aside-offset"]=b}if(D(g)&&(void 0!==g.base&&(a["--app-shell-aside-width"]=(0,y.rem)(g.base),a["--app-shell-aside-offset"]=(0,y.rem)(g.base)),(0,x.keys)(g).forEach(a=>{"base"!==a&&(b[a]=b[a]||{},b[a]["--app-shell-aside-width"]=(0,y.rem)(g[a]),b[a]["--app-shell-aside-offset"]=(0,y.rem)(g[a]))})),d?.breakpoint&&"static"===f&&(b[d.breakpoint]=b[d.breakpoint]||{},b[d.breakpoint]["--app-shell-aside-position"]="sticky",b[d.breakpoint]["--app-shell-aside-grid-row"]="2",b[d.breakpoint]["--app-shell-aside-grid-column"]="3",b[d.breakpoint]["--app-shell-main-column-end"]="3"),d?.collapsed?.desktop){let a=d.breakpoint;b[a]=b[a]||{},b[a]["--app-shell-aside-transform"]=h,b[a]["--app-shell-aside-transform-rtl"]=i,"fixed"===f?b[a]["--app-shell-aside-offset"]="0px !important":(b[a]["--app-shell-aside-width"]="0px",b[a]["--app-shell-aside-display"]="none",b[a]["--app-shell-main-column-end"]="-1"),b[a]["--app-shell-aside-scroll-locked-visibility"]="hidden"}if(d?.collapsed?.mobile){let a=(0,A.getBreakpointValue)(d.breakpoint,e.breakpoints)-.1;c[a]=c[a]||{},"fixed"===f?(c[a]["--app-shell-aside-width"]="100%",c[a]["--app-shell-aside-offset"]="0px"):c[a]["--app-shell-aside-width"]="0px",c[a]["--app-shell-aside-transform"]=h,c[a]["--app-shell-aside-transform-rtl"]=i,c[a]["--app-shell-aside-scroll-locked-visibility"]="hidden"}}({baseStyles:j,minMediaStyles:h,maxMediaStyles:i,aside:d,theme:f,mode:g}),function({baseStyles:a,minMediaStyles:b,header:c,mode:d}){let e=c?.height,f="static"===d||(c?.offset??!0);if("static"===d&&c&&(a["--app-shell-header-position"]="sticky",a["--app-shell-header-grid-column"]="1 / -1",a["--app-shell-header-grid-row"]="1"),C(e)){let b=(0,y.rem)(B(e));a["--app-shell-header-height"]=b,f&&(a["--app-shell-header-offset"]=b)}D(e)&&(void 0!==e.base&&(a["--app-shell-header-height"]=(0,y.rem)(e.base),f&&(a["--app-shell-header-offset"]=(0,y.rem)(e.base))),(0,x.keys)(e).forEach(a=>{"base"!==a&&(b[a]=b[a]||{},b[a]["--app-shell-header-height"]=(0,y.rem)(e[a]),f&&(b[a]["--app-shell-header-offset"]=(0,y.rem)(e[a])))})),c?.collapsed&&(a["--app-shell-header-transform"]="translateY(calc(var(--app-shell-header-height) * -1))","fixed"===d&&(a["--app-shell-header-offset"]="0px !important"))}({baseStyles:j,minMediaStyles:h,header:b,mode:g}),function({baseStyles:a,minMediaStyles:b,footer:c,mode:d}){let e=c?.height,f="static"===d||(c?.offset??!0);if("static"===d&&c&&(a["--app-shell-footer-position"]="sticky",a["--app-shell-footer-grid-column"]="1 / -1",a["--app-shell-footer-grid-row"]="3"),C(e)){let b=(0,y.rem)(B(e));a["--app-shell-footer-height"]=b,f&&(a["--app-shell-footer-offset"]=b)}D(e)&&(void 0!==e.base&&(a["--app-shell-footer-height"]=(0,y.rem)(e.base),f&&(a["--app-shell-footer-offset"]=(0,y.rem)(e.base))),(0,x.keys)(e).forEach(a=>{"base"!==a&&(b[a]=b[a]||{},b[a]["--app-shell-footer-height"]=(0,y.rem)(e[a]),f&&(b[a]["--app-shell-footer-offset"]=(0,y.rem)(e[a])))})),c?.collapsed&&(a["--app-shell-footer-transform"]="translateY(var(--app-shell-footer-height))","fixed"===d&&(a["--app-shell-footer-offset"]="0px !important"))}({baseStyles:j,minMediaStyles:h,footer:c,mode:g}),function({padding:a,baseStyles:b,minMediaStyles:c}){C(a)&&(b["--app-shell-padding"]=F(B(a))),D(a)&&(a.base&&(b["--app-shell-padding"]=F(a.base)),(0,x.keys)(a).forEach(b=>{"base"!==b&&(c[b]=c[b]||{},c[b]["--app-shell-padding"]=F(a[b]))}))}({baseStyles:j,minMediaStyles:h,padding:e}),{baseStyles:j,media:[...(0,z.getSortedBreakpoints)((0,x.keys)(h),f.breakpoints).map(a=>({query:`(min-width: ${(0,y.em)(a.px)})`,styles:h[a.value]})),...(0,z.getSortedBreakpoints)((0,x.keys)(i),f.breakpoints).map(a=>({query:`(max-width: ${(0,y.em)(a.px)})`,styles:i[a.value]}))]}}({navbar:a,header:c,footer:e,aside:d,padding:f,theme:i,mode:g});return(0,b.jsx)(w.InlineStyles,{media:k,styles:l,selector:h||j.cssVariablesSelector})}let H=(0,l.factory)((a,c)=>{let{classNames:d,className:e,style:f,styles:g,unstyled:h,vars:j,withBorder:l,zIndex:m,mod:o,...p}=(0,i.useProps)("AppShellNavbar",null,a),q=n();return q.disabled?null:(0,b.jsx)(k.Box,{component:"nav",ref:c,mod:[{"with-border":l??q.withBorder},o],...q.getStyles("navbar",{className:e,classNames:d,styles:g,style:f}),...p,__vars:{"--app-shell-navbar-z-index":`calc(${m??q.zIndex} + 1)`}})});H.classes=o,H.displayName="@mantine/core/AppShellNavbar";let I=(0,a.i(48011).polymorphicFactory)((a,c)=>{let{classNames:d,className:e,style:f,styles:g,vars:h,grow:j,mod:l,...m}=(0,i.useProps)("AppShellSection",null,a),o=n();return(0,b.jsx)(k.Box,{ref:c,mod:[{grow:j},l],...o.getStyles("section",{className:e,style:f,classNames:d,styles:g}),...m})});I.classes=o,I.displayName="@mantine/core/AppShellSection";var J=a.i(41143),K=a.i(22769);let L={withBorder:!0,padding:0,transitionDuration:200,transitionTimingFunction:"ease",zIndex:(0,f.getDefaultZIndex)("app"),mode:"fixed"},M=(0,g.createVarsResolver)((a,{transitionDuration:b,transitionTimingFunction:c})=>({root:{"--app-shell-transition-duration":`${b}ms`,"--app-shell-transition-timing-function":c}})),N=(0,l.factory)((a,d)=>{let f=(0,i.useProps)("AppShell",L,a),{classNames:g,className:h,style:l,styles:n,unstyled:p,vars:q,navbar:r,withBorder:s,padding:t,transitionDuration:u,transitionTimingFunction:v,header:w,zIndex:x,layout:y,disabled:z,aside:A,footer:B,offsetScrollbars:C=!0,mode:D,mod:E,attributes:F,id:H,...I}=f,N=(0,j.useStyles)({name:"AppShell",classes:o,props:f,className:h,style:l,classNames:g,styles:n,unstyled:p,attributes:F,vars:q,varsResolver:M}),O=function({transitionDuration:a,disabled:b}){let[d,e]=(0,c.useState)(!0),f=(0,c.useRef)(-1),g=(0,c.useRef)(-1);return(0,J.useWindowEvent)("resize",()=>{e(!0),clearTimeout(f.current),f.current=window.setTimeout(()=>(0,c.startTransition)(()=>{e(!1)}),200)}),(0,K.useIsomorphicEffect)(()=>{e(!0),clearTimeout(g.current),g.current=window.setTimeout(()=>(0,c.startTransition)(()=>{e(!1)}),a||0)},[b,a]),d}({disabled:z,transitionDuration:u}),P=(0,e.useId)(H);return(0,b.jsxs)(m,{value:{getStyles:N,withBorder:s,zIndex:x,disabled:z,offsetScrollbars:C,mode:D},children:[(0,b.jsx)(G,{navbar:r,header:w,aside:A,footer:B,padding:t,mode:D,selector:"static"===D?`#${P}`:void 0}),(0,b.jsx)(k.Box,{ref:d,...N("root"),mod:[{resizing:O,layout:y,disabled:z,mode:D},E],id:P,...I})]})});N.classes=o,N.displayName="@mantine/core/AppShell",N.Navbar=H,N.Header=s,N.Main=t,N.Aside=q,N.Footer=r,N.Section=I;var O=a.i(80987),P=a.i(52466),Q=a.i(51014),R=a.i(61050),S=a.i(87323),T=a.i(28407),U=a.i(81577),V=a.i(75949),W=a.i(87740),X=a.i(73902),Y=a.i(55223),Z=a.i(71813),$=a.i(49862);let _=(0,$.default)("outline","logout","Logout",[["path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M9 12h12l-3 -3",key:"svg-1"}],["path",{d:"M18 15l3 -3",key:"svg-2"}]]);var aa=a.i(4275);let ab=(0,$.default)("outline","building-store","BuildingStore",[["path",{d:"M3 21l18 0",key:"svg-0"}],["path",{d:"M3 7v1a3 3 0 0 0 6 0v-1m0 1a3 3 0 0 0 6 0v-1m0 1a3 3 0 0 0 6 0v-1h-18l2 -4h14l2 4",key:"svg-1"}],["path",{d:"M5 21l0 -10.15",key:"svg-2"}],["path",{d:"M19 21l0 -10.15",key:"svg-3"}],["path",{d:"M9 21v-4a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v4",key:"svg-4"}]]);var ac=a.i(38246);a.i(15128);var ad=a.i(69844);let ae=[{href:"/admin",label:"لوحة التحكم",icon:X.IconHome},{href:"/admin/perfumes",label:"العطور",icon:Y.IconBottle},{href:"/admin/categories",label:"التصنيفات",icon:Z.IconCategory},{href:"/admin/brands",label:"الماركات",icon:ab},{href:"/admin/discounts",label:"التخفيضات",icon:aa.IconDiscount}];function af({children:a}){let[e,{toggle:f}]=(0,W.useDisclosure)(),[g,h]=(0,c.useState)(null),[i,j]=(0,c.useState)(!0),l=(0,d.useRouter)(),m=(0,d.usePathname)();(0,c.useEffect)(()=>{(async()=>{let a=await ad.authApi.getCurrentUser();a.success&&a.data||"/admin/login"===m?a.success&&a.data&&h(a.data):l.replace("/admin/login"),j(!1)})()},[m,l]);let n=async()=>{await ad.authApi.signOut(),l.replace("/admin/login")};return i?(0,b.jsx)(T.Center,{style:{minHeight:"100vh"},children:(0,b.jsx)(S.Loader,{size:"lg"})}):"/admin/login"===m?(0,b.jsx)(b.Fragment,{children:a}):g?(0,b.jsxs)(N,{header:{height:60},navbar:{width:260,breakpoint:"sm",collapsed:{mobile:!e}},padding:"md",children:[(0,b.jsx)(N.Header,{children:(0,b.jsxs)(Q.Group,{h:"100%",px:"md",justify:"space-between",children:[(0,b.jsxs)(Q.Group,{children:[(0,b.jsx)(R.Burger,{opened:e,onClick:f,hiddenFrom:"sm",size:"sm"}),(0,b.jsx)(P.Title,{order:4,c:"brand",children:"لوحة التحكم"})]}),(0,b.jsxs)(Q.Group,{children:[(0,b.jsx)(U.Text,{size:"sm",c:"dimmed",children:g.displayName||g.email}),(0,b.jsx)(V.Button,{variant:"subtle",color:"red",size:"xs",leftSection:(0,b.jsx)(_,{size:16}),onClick:n,children:"تسجيل الخروج"})]})]})}),(0,b.jsx)(N.Navbar,{p:"md",children:(0,b.jsx)(k.Box,{children:ae.map(a=>(0,b.jsx)(O.NavLink,{component:ac.default,href:a.href,label:a.label,leftSection:(0,b.jsx)(a.icon,{size:18}),active:m===a.href,mb:"xs"},a.href))})}),(0,b.jsx)(N.Main,{children:a})]}):null}a.s(["default",()=>af],54654)}];

//# sourceMappingURL=apps_web_src_app_admin_layout_tsx_3ca6323d._.js.map