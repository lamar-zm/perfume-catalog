{"version":3,"sources":["../../../../../../apps/web/src/app/admin/brands/page.tsx","../../../../../../apps/web/src/app/admin/brands/BrandFormModal.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport {\n  Stack,\n  Title,\n  Group,\n  Button,\n  Table,\n  ActionIcon,\n  Image,\n  Menu,\n  Paper,\n  Text,\n} from '@mantine/core';\nimport { useDisclosure } from '@mantine/hooks';\nimport { notifications } from '@mantine/notifications';\nimport {\n  IconPlus,\n  IconPencil,\n  IconTrash,\n  IconDotsVertical,\n} from '@tabler/icons-react';\nimport { brandApi, imageHelper } from '@/services';\nimport { Brand } from '@/types';\nimport { LoadingState, EmptyState } from '@/components';\nimport { BrandFormModal } from './BrandFormModal';\nimport { DeleteConfirmModal } from '../perfumes/DeleteConfirmModal';\n\nexport default function AdminBrandsPage() {\n  const [loading, setLoading] = useState(true);\n  const [brands, setBrands] = useState<Brand[]>([]);\n  const [selectedBrand, setSelectedBrand] = useState<Brand | null>(null);\n  const [brandToDelete, setBrandToDelete] = useState<Brand | null>(null);\n\n  const [formOpened, { open: openForm, close: closeForm }] = useDisclosure(false);\n  const [deleteOpened, { open: openDelete, close: closeDelete }] = useDisclosure(false);\n\n  useEffect(() => {\n    loadBrands();\n  }, []);\n\n  const loadBrands = async () => {\n    setLoading(true);\n    try {\n      const res = await brandApi.getAll();\n      if (res.success && res.data) {\n        setBrands(res.data);\n      }\n    } catch (error) {\n      console.error('Error loading brands:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCreate = () => {\n    setSelectedBrand(null);\n    openForm();\n  };\n\n  const handleEdit = (brand: Brand) => {\n    setSelectedBrand(brand);\n    openForm();\n  };\n\n  const handleDelete = (brand: Brand) => {\n    setBrandToDelete(brand);\n    openDelete();\n  };\n\n  const confirmDelete = async () => {\n    if (!brandToDelete) return;\n\n    try {\n      const res = await brandApi.delete(brandToDelete.id);\n      if (res.success) {\n        notifications.show({\n          title: 'تم الحذف',\n          message: 'تم حذف الماركة بنجاح',\n          color: 'green',\n        });\n        loadBrands();\n      } else {\n        throw new Error(res.error);\n      }\n    } catch (error) {\n      notifications.show({\n        title: 'خطأ',\n        message: 'حدث خطأ أثناء حذف الماركة',\n        color: 'red',\n      });\n    } finally {\n      closeDelete();\n      setBrandToDelete(null);\n    }\n  };\n\n  const handleFormSuccess = () => {\n    closeForm();\n    loadBrands();\n    notifications.show({\n      title: 'تم الحفظ',\n      message: selectedBrand ? 'تم تحديث الماركة بنجاح' : 'تم إضافة الماركة بنجاح',\n      color: 'green',\n    });\n  };\n\n  return (\n    <>\n      <Stack gap=\"lg\">\n        <Group justify=\"space-between\">\n          <Title order={2}>إدارة الماركات</Title>\n          <Button leftSection={<IconPlus size={18} />} onClick={handleCreate}>\n            إضافة ماركة\n          </Button>\n        </Group>\n\n        {loading ? (\n          <LoadingState message=\"جاري تحميل الماركات...\" />\n        ) : brands.length === 0 ? (\n          <EmptyState\n            title=\"لا توجد ماركات\"\n            message=\"لم يتم العثور على ماركات. قم بإضافة ماركة جديدة.\"\n          />\n        ) : (\n          <Paper radius=\"md\" withBorder style={{ overflow: 'hidden' }}>\n            <Table striped highlightOnHover>\n              <Table.Thead>\n                <Table.Tr>\n                  <Table.Th>الصورة</Table.Th>\n                  <Table.Th>الاسم</Table.Th>\n                  <Table.Th>الرابط</Table.Th>\n                  <Table.Th>الوصف</Table.Th>\n                  <Table.Th>الإجراءات</Table.Th>\n                </Table.Tr>\n              </Table.Thead>\n              <Table.Tbody>\n                {brands.map((brand) => (\n                  <Table.Tr key={brand.id}>\n                    <Table.Td>\n                      <Image\n                        src={brand.image || imageHelper.getPlaceholder(50, 50)}\n                        alt={brand.name}\n                        width={50}\n                        height={50}\n                        radius=\"sm\"\n                        fallbackSrc={imageHelper.getPlaceholder(50, 50)}\n                      />\n                    </Table.Td>\n                    <Table.Td>\n                      <Text fw={500}>{brand.name}</Text>\n                    </Table.Td>\n                    <Table.Td>\n                      <Text size=\"sm\" c=\"dimmed\" dir=\"ltr\">\n                        /{brand.slug}\n                      </Text>\n                    </Table.Td>\n                    <Table.Td>\n                      <Text size=\"sm\" lineClamp={1}>\n                        {brand.description || '-'}\n                      </Text>\n                    </Table.Td>\n                    <Table.Td>\n                      <Menu position=\"bottom-end\" withArrow>\n                        <Menu.Target>\n                          <ActionIcon variant=\"subtle\">\n                            <IconDotsVertical size={16} />\n                          </ActionIcon>\n                        </Menu.Target>\n                        <Menu.Dropdown>\n                          <Menu.Item\n                            leftSection={<IconPencil size={16} />}\n                            onClick={() => handleEdit(brand)}\n                          >\n                            تعديل\n                          </Menu.Item>\n                          <Menu.Item\n                            leftSection={<IconTrash size={16} />}\n                            color=\"red\"\n                            onClick={() => handleDelete(brand)}\n                          >\n                            حذف\n                          </Menu.Item>\n                        </Menu.Dropdown>\n                      </Menu>\n                    </Table.Td>\n                  </Table.Tr>\n                ))}\n              </Table.Tbody>\n            </Table>\n          </Paper>\n        )}\n      </Stack>\n\n      {/* Form Modal */}\n      <BrandFormModal\n        opened={formOpened}\n        onClose={closeForm}\n        brand={selectedBrand}\n        onSuccess={handleFormSuccess}\n      />\n\n      {/* Delete Confirmation Modal */}\n      <DeleteConfirmModal\n        opened={deleteOpened}\n        onClose={closeDelete}\n        onConfirm={confirmDelete}\n        title=\"حذف الماركة\"\n        message={`هل أنت متأكد من حذف الماركة \"${brandToDelete?.name}\"؟ لن يتم حذف العطور المرتبطة بها.`}\n      />\n    </>\n  );\n}\n","'use client';\n\nimport { useState, useEffect } from 'react';\nimport {\n  Modal,\n  TextInput,\n  Textarea,\n  Button,\n  Stack,\n  Group,\n  Image,\n  Box,\n  Text,\n  LoadingOverlay,\n} from '@mantine/core';\nimport { useForm } from '@mantine/form';\nimport { Dropzone, IMAGE_MIME_TYPE, FileWithPath } from '@mantine/dropzone';\nimport { IconUpload, IconPhoto, IconX } from '@tabler/icons-react';\nimport { Brand } from '@/types';\nimport { brandApi, imageHelper, uploadApi } from '@/services';\n\ninterface BrandFormData {\n  name: string;\n  slug: string;\n  description: string;\n  image: string;\n}\n\ninterface BrandFormModalProps {\n  opened: boolean;\n  onClose: () => void;\n  brand: Brand | null;\n  onSuccess: () => void;\n}\n\n// Helper function to generate slug from text\nfunction generateSlug(text: string): string {\n  // Common Arabic brand name translations\n  const arabicToEnglish: Record<string, string> = {\n    'شانيل': 'chanel',\n    'ديور': 'dior',\n    'قوتشي': 'gucci',\n    'برادا': 'prada',\n    'فيرساتشي': 'versace',\n    'أرماني': 'armani',\n    'جيفنشي': 'givenchy',\n    'بولغاري': 'bvlgari',\n    'هيرميس': 'hermes',\n    'توم فورد': 'tom-ford',\n    'كريستيان ديور': 'christian-dior',\n    'ايف سان لوران': 'yves-saint-laurent',\n    'كارولينا هيريرا': 'carolina-herrera',\n    'جورجيو أرماني': 'giorgio-armani',\n    'دولتشي آند غابانا': 'dolce-gabbana',\n    'كالفن كلاين': 'calvin-klein',\n    'هوغو بوس': 'hugo-boss',\n    'عجمل': 'ajmal',\n    'العربية للعود': 'arabian-oud',\n    'رسايس': 'rasasi',\n    'سويس أريبيان': 'swiss-arabian',\n    'لطافة': 'lattafa',\n  };\n\n  // Check if we have a predefined translation\n  if (arabicToEnglish[text]) {\n    return arabicToEnglish[text];\n  }\n\n  // Otherwise, create a simple slug from the text\n  return text\n    .toLowerCase()\n    .replace(/\\s+/g, '-')\n    .replace(/[^\\u0600-\\u06FFa-z0-9-]/g, '')\n    .replace(/-+/g, '-')\n    .replace(/^-|-$/g, '');\n}\n\nexport function BrandFormModal({\n  opened,\n  onClose,\n  brand,\n  onSuccess,\n}: BrandFormModalProps) {\n  const [loading, setLoading] = useState(false);\n  const [uploading, setUploading] = useState(false);\n  const [imagePreview, setImagePreview] = useState<string | null>(null);\n\n  const form = useForm<BrandFormData>({\n    initialValues: {\n      name: '',\n      slug: '',\n      description: '',\n      image: '',\n    },\n    validate: {\n      name: (value) =>\n        value.trim().length < 2 ? 'الاسم يجب أن يكون 2 أحرف على الأقل' : null,\n      slug: (value) =>\n        value.trim().length < 2 ? 'الرابط يجب أن يكون 2 أحرف على الأقل' : null,\n    },\n  });\n\n  // Reset form when modal opens/closes or brand changes\n  useEffect(() => {\n    if (opened) {\n      if (brand) {\n        form.setValues({\n          name: brand.name,\n          slug: brand.slug,\n          description: brand.description || '',\n          image: brand.image || '',\n        });\n        setImagePreview(brand.image || null);\n      } else {\n        form.reset();\n        setImagePreview(null);\n      }\n    }\n  }, [opened, brand]);\n\n  // Auto-generate slug when name changes (only for new brands)\n  const handleNameChange = (value: string) => {\n    form.setFieldValue('name', value);\n    if (!brand) {\n      form.setFieldValue('slug', generateSlug(value));\n    }\n  };\n\n  const handleImageDrop = async (files: FileWithPath[]) => {\n    if (files.length > 0) {\n      const file = files[0];\n      setUploading(true);\n      \n      try {\n        const result = await uploadApi.upload(file);\n        if (result.success && result.data) {\n          form.setFieldValue('image', result.data.url);\n          setImagePreview(result.data.url);\n        } else {\n          console.error('Upload failed:', result.error);\n        }\n      } catch (error) {\n        console.error('Error uploading image:', error);\n      } finally {\n        setUploading(false);\n      }\n    }\n  };\n\n  const handleRemoveImage = async () => {\n    const currentImage = form.values.image;\n    if (currentImage && currentImage.startsWith('/uploads/')) {\n      // Delete the uploaded image\n      try {\n        await uploadApi.delete(currentImage);\n      } catch (error) {\n        console.error('Error deleting image:', error);\n      }\n    }\n    setImagePreview(null);\n    form.setFieldValue('image', '');\n  };\n\n  const handleSubmit = async (values: BrandFormData) => {\n    setLoading(true);\n    try {\n      const brandData = {\n        name: values.name,\n        slug: values.slug,\n        description: values.description || undefined,\n        image: values.image || '',\n      };\n\n      let res;\n      if (brand) {\n        res = await brandApi.update(brand.id, brandData);\n      } else {\n        res = await brandApi.create(brandData);\n      }\n\n      if (res.success) {\n        onSuccess();\n      } else {\n        console.error('Error saving brand:', res.error);\n      }\n    } catch (error) {\n      console.error('Error saving brand:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Modal\n      opened={opened}\n      onClose={onClose}\n      title={brand ? 'تعديل الماركة' : 'إضافة ماركة جديدة'}\n      size=\"lg\"\n    >\n      <Box pos=\"relative\">\n        <LoadingOverlay visible={uploading} zIndex={1000} overlayProps={{ blur: 2 }} />\n        \n        <form onSubmit={form.onSubmit(handleSubmit)}>\n          <Stack gap=\"md\">\n            {/* Image Upload */}\n            <Box>\n              <Text size=\"sm\" fw={500} mb=\"xs\">\n                صورة الماركة\n              </Text>\n              {imagePreview ? (\n                <Box pos=\"relative\">\n                  <Image\n                    src={imagePreview}\n                    alt=\"Preview\"\n                    height={150}\n                    radius=\"md\"\n                    fallbackSrc={imageHelper.getPlaceholder(400, 150)}\n                  />\n                  <Button\n                    variant=\"filled\"\n                    color=\"red\"\n                    size=\"xs\"\n                    pos=\"absolute\"\n                    top={10}\n                    right={10}\n                    onClick={handleRemoveImage}\n                  >\n                    <IconX size={16} />\n                  </Button>\n                </Box>\n              ) : (\n                <Dropzone\n                  onDrop={handleImageDrop}\n                  accept={IMAGE_MIME_TYPE}\n                  maxSize={10 * 1024 ** 2}\n                  multiple={false}\n                  loading={uploading}\n                >\n                  <Group\n                    justify=\"center\"\n                    gap=\"xl\"\n                    mih={120}\n                    style={{ pointerEvents: 'none' }}\n                  >\n                    <Dropzone.Accept>\n                      <IconUpload size={40} stroke={1.5} />\n                    </Dropzone.Accept>\n                    <Dropzone.Reject>\n                      <IconX size={40} stroke={1.5} />\n                    </Dropzone.Reject>\n                    <Dropzone.Idle>\n                      <IconPhoto size={40} stroke={1.5} />\n                    </Dropzone.Idle>\n                    <div>\n                      <Text size=\"md\" inline>\n                        اسحب الصورة هنا أو اضغط للاختيار\n                      </Text>\n                      <Text size=\"sm\" c=\"dimmed\" inline mt={7}>\n                        الحد الأقصى للحجم 10MB\n                      </Text>\n                    </div>\n                  </Group>\n                </Dropzone>\n              )}\n            </Box>\n\n            <TextInput\n              label=\"اسم الماركة\"\n              placeholder=\"أدخل اسم الماركة\"\n              required\n              value={form.values.name}\n              onChange={(e) => handleNameChange(e.target.value)}\n              error={form.errors.name}\n            />\n\n            <TextInput\n              label=\"الرابط (Slug)\"\n              placeholder=\"brand-slug\"\n              description=\"يستخدم في الروابط - سيتم إنشاؤه تلقائياً\"\n              required\n              dir=\"ltr\"\n              {...form.getInputProps('slug')}\n            />\n\n            <Textarea\n              label=\"الوصف\"\n              placeholder=\"أدخل وصف الماركة (اختياري)\"\n              minRows={2}\n              {...form.getInputProps('description')}\n            />\n\n            <Group justify=\"flex-end\" mt=\"md\">\n              <Button variant=\"light\" onClick={onClose}>\n                إلغاء\n              </Button>\n              <Button type=\"submit\" loading={loading}>\n                {brand ? 'تحديث' : 'إضافة'}\n              </Button>\n            </Group>\n          </Stack>\n        </form>\n      </Box>\n    </Modal>\n  );\n}\n"],"names":[],"mappings":"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"}