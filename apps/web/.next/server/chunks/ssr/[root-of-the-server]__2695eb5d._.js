module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},34005,a=>{a.n(a.i(77930))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},8604,a=>{a.n(a.i(44327))},18278,a=>{a.n(a.i(73685))},23177,a=>{"use strict";a.s(["Stack",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call Stack() from the server but Stack is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@mantine/core/esm/components/Stack/Stack.mjs <module evaluation>","Stack")},25843,a=>{"use strict";a.s(["Stack",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call Stack() from the server but Stack is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@mantine/core/esm/components/Stack/Stack.mjs","Stack")},54045,a=>{"use strict";a.i(23177);var b=a.i(25843);a.n(b)},14774,63243,62855,a=>{"use strict";async function b(a,b){let c=process.env.NEXT_PUBLIC_API_URL||"http://localhost:3000",d=`${c}/api${a}`;try{return(await fetch(d,{...b,headers:{"Content-Type":"application/json",...b?.headers},cache:"no-store"})).json()}catch(a){return console.error(`API Error fetching ${d}:`,a),{success:!1,error:"Network error"}}}a.s(["brandApi",0,{getAll:async()=>b("/brands"),getPaginated:async a=>b(`/brands?paginated=true&page=${a.page}&pageSize=${a.pageSize}`),getById:async a=>b(`/brands/${a}`),getBySlug:async a=>b(`/brands/${a}`),getWithPerfumes:async(a,c)=>b(`/brands/${a}?perfumes=true&page=${c.page}&pageSize=${c.pageSize}`),create:async a=>b("/brands",{method:"POST",body:JSON.stringify(a)}),update:async(a,c)=>b(`/brands/${a}`,{method:"PUT",body:JSON.stringify(c)}),delete:async a=>b(`/brands/${a}`,{method:"DELETE"})},"categoryApi",0,{getAll:async()=>b("/categories"),getPaginated:async a=>b(`/categories?paginated=true&page=${a.page}&pageSize=${a.pageSize}`),getById:async a=>b(`/categories/${a}`),getBySlug:async a=>b(`/categories/${a}`),getWithPerfumes:async(a,c)=>b(`/categories/${a}?perfumes=true&page=${c.page}&pageSize=${c.pageSize}`),create:async a=>b("/categories",{method:"POST",body:JSON.stringify(a)}),update:async(a,c)=>b(`/categories/${a}`,{method:"PUT",body:JSON.stringify(c)}),delete:async a=>b(`/categories/${a}`,{method:"DELETE"})},"perfumeApi",0,{async getAll(a){let c=new URLSearchParams({page:a.page.toString(),pageSize:a.pageSize.toString()});return a.categoryId&&c.set("categoryId",a.categoryId),a.brandId&&c.set("brandId",a.brandId),a.hasDiscount&&c.set("hasDiscount","true"),a.search&&c.set("search",a.search),b(`/perfumes?${c}`)},getById:async a=>b(`/perfumes/${a}`),getMostSold:async(a=8)=>b(`/perfumes?endpoint=most-sold&limit=${a}`),getDiscounted:async a=>b(a?`/perfumes?endpoint=discounted&limit=${a}`:"/perfumes?endpoint=discounted"),getRelated:async(a,c,d=4)=>b(`/perfumes/${a}?related=true&categoryId=${c}&limit=${d}`),create:async a=>b("/perfumes",{method:"POST",body:JSON.stringify(a)}),update:async(a,c)=>b(`/perfumes/${a}`,{method:"PUT",body:JSON.stringify(c)}),delete:async a=>b(`/perfumes/${a}`,{method:"DELETE"}),updateDiscount:async(a,c)=>b(`/perfumes/${a}`,{method:"PATCH",body:JSON.stringify({action:"updateDiscount",discount:c})})}],63243),a.s([],14774),a.i(32752);var c=a.i(22230);a.i(61862);var d=a.i(49800);a.i(33909),a.i(19344),a.s(["EmptyState",()=>d.EmptyState,"SectionHeader",()=>c.SectionHeader],62855)},58412,a=>{"use strict";a.i(55452),a.i(44504);var b=a.i(5397);a.s(["PerfumeGrid",()=>b.PerfumeGrid])},18324,a=>{"use strict";a.s(["Text",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call Text() from the server but Text is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@mantine/core/esm/components/Text/Text.mjs <module evaluation>","Text")},27017,a=>{"use strict";a.s(["Text",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call Text() from the server but Text is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@mantine/core/esm/components/Text/Text.mjs","Text")},6116,a=>{"use strict";a.i(18324);var b=a.i(27017);a.n(b)},16677,a=>{"use strict";a.s(["Badge",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call Badge() from the server but Badge is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@mantine/core/esm/components/Badge/Badge.mjs <module evaluation>","Badge")},38596,a=>{"use strict";a.s(["Badge",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call Badge() from the server but Badge is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@mantine/core/esm/components/Badge/Badge.mjs","Badge")},82565,a=>{"use strict";a.i(16677);var b=a.i(38596);a.n(b)},74178,a=>{"use strict";a.s(["Group",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call Group() from the server but Group is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@mantine/core/esm/components/Group/Group.mjs <module evaluation>","Group")},46719,a=>{"use strict";a.s(["Group",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call Group() from the server but Group is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@mantine/core/esm/components/Group/Group.mjs","Group")},98088,a=>{"use strict";a.i(74178);var b=a.i(46719);a.n(b)},74414,a=>{"use strict";a.s(["Grid",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call Grid() from the server but Grid is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@mantine/core/esm/components/Grid/Grid.mjs <module evaluation>","Grid")},59516,a=>{"use strict";a.s(["Grid",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call Grid() from the server but Grid is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@mantine/core/esm/components/Grid/Grid.mjs","Grid")},8111,a=>{"use strict";a.i(74414);var b=a.i(59516);a.n(b)},93726,a=>{"use strict";a.s(["GridCol",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call GridCol() from the server but GridCol is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@mantine/core/esm/components/Grid/GridCol/GridCol.mjs <module evaluation>","GridCol")},83567,a=>{"use strict";a.s(["GridCol",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call GridCol() from the server but GridCol is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@mantine/core/esm/components/Grid/GridCol/GridCol.mjs","GridCol")},81812,a=>{"use strict";a.i(93726);var b=a.i(83567);a.n(b)},23717,a=>{"use strict";a.s(["Title",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call Title() from the server but Title is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@mantine/core/esm/components/Title/Title.mjs <module evaluation>","Title")},72583,a=>{"use strict";a.s(["Title",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call Title() from the server but Title is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@mantine/core/esm/components/Title/Title.mjs","Title")},38927,a=>{"use strict";a.i(23717);var b=a.i(72583);a.n(b)},54445,a=>{"use strict";a.s(["Paper",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call Paper() from the server but Paper is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@mantine/core/esm/components/Paper/Paper.mjs <module evaluation>","Paper")},34548,a=>{"use strict";a.s(["Paper",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call Paper() from the server but Paper is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@mantine/core/esm/components/Paper/Paper.mjs","Paper")},98128,a=>{"use strict";a.i(54445);var b=a.i(34548);a.n(b)},86840,a=>{"use strict";a.s(["Divider",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call Divider() from the server but Divider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@mantine/core/esm/components/Divider/Divider.mjs <module evaluation>","Divider")},89108,a=>{"use strict";a.s(["Divider",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call Divider() from the server but Divider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@mantine/core/esm/components/Divider/Divider.mjs","Divider")},63349,a=>{"use strict";a.i(86840);var b=a.i(89108);a.n(b)},77336,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/apps/web/src/components/perfume/PerfumeCarousel.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/apps/web/src/components/perfume/PerfumeCarousel.tsx <module evaluation>","default")},60530,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/apps/web/src/components/perfume/PerfumeCarousel.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/apps/web/src/components/perfume/PerfumeCarousel.tsx","default")},93675,a=>{"use strict";a.i(77336);var b=a.i(60530);a.n(b)},65798,a=>{"use strict";var b=a.i(7997);a.i(70396);var c=a.i(73727),d=a.i(54045),e=a.i(8111),f=a.i(81812),g=a.i(38927),h=a.i(6116),i=a.i(82565),j=a.i(98088),k=a.i(31255),l=a.i(98128),m=a.i(63349),n=a.i(717),o={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};let p=(a,b,c,d)=>{let e=(0,n.forwardRef)(({color:c="currentColor",size:e=24,stroke:f=2,title:g,className:h,children:i,...j},k)=>(0,n.createElement)("svg",{ref:k,...o[a],width:e,height:e,className:["tabler-icon",`tabler-icon-${b}`,h].join(" "),..."filled"===a?{fill:c}:{strokeWidth:f,stroke:c},...j},[g&&(0,n.createElement)("title",{key:"svg-title"},g),...d.map(([a,b])=>(0,n.createElement)(a,b)),...Array.isArray(i)?i:[i]]));return e.displayName=`${c}`,e},q=p("outline","tag","Tag",[["path",{d:"M6.5 7.5a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M3 6v5.172a2 2 0 0 0 .586 1.414l7.71 7.71a2.41 2.41 0 0 0 3.408 0l5.592 -5.592a2.41 2.41 0 0 0 0 -3.408l-7.71 -7.71a2 2 0 0 0 -1.414 -.586h-5.172a3 3 0 0 0 -3 3",key:"svg-1"}]]),r=p("outline","category","Category",[["path",{d:"M4 4h6v6h-6l0 -6",key:"svg-0"}],["path",{d:"M14 4h6v6h-6l0 -6",key:"svg-1"}],["path",{d:"M4 14h6v6h-6l0 -6",key:"svg-2"}],["path",{d:"M14 17a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-3"}]]);a.i(14774);var s=a.i(63243);a.i(75802);var t=a.i(58412),u=a.i(62855),v=a.i(93675);async function w(){let a=await s.perfumeApi.getAll({page:1,pageSize:100});return a.success&&a.data?a.data.data.map(a=>({id:a.id})):[]}async function x({params:a}){let{id:b}=await a,c=await s.perfumeApi.getById(b);if(!c.success||!c.data)return{title:"العطر غير موجود"};let d=c.data,e=d.discount&&d.discount>0?d.price-d.discount:d.price,f=d.images?.[0]||"";return{title:d.title,description:d.description.substring(0,160),openGraph:{title:`${d.title} | عطور فاخرة`,description:d.description.substring(0,160),images:f?[{url:f}]:void 0,type:"website"},other:{"product:price:amount":e.toString(),"product:price:currency":"IQD"}}}async function y({params:a}){let{id:n}=await a,o=await s.perfumeApi.getById(n);o.success&&o.data||(0,c.notFound)();let p=o.data,[w,x,y]=await Promise.all([p.categoryId?s.categoryApi.getById(p.categoryId):Promise.resolve({success:!1,data:null}),s.perfumeApi.getRelated(p.id,p.categoryId||"",4),s.categoryApi.getAll()]),z=w.success&&w.data?w.data:null,A=x.success&&x.data?x.data:[],B=y.success&&y.data?y.data:[],C=p.discount&&p.discount>0,D=C?p.price-p.discount:p.price;return p.images?.[0],(0,b.jsxs)(d.Stack,{gap:"xl",children:[(0,b.jsx)(l.Paper,{p:"xl",radius:"lg",withBorder:!0,children:(0,b.jsxs)(e.Grid,{gutter:"xl",children:[(0,b.jsx)(f.GridCol,{span:{base:12,md:5},children:(0,b.jsxs)(k.Box,{pos:"relative",children:[(0,b.jsx)(v.default,{images:p.images||[],coverImage:p.coverImage,height:500}),C&&(0,b.jsxs)(i.Badge,{color:"red",variant:"filled",size:"lg",pos:"absolute",top:16,right:16,children:["خصم ",p.discount," دينار"]})]})}),(0,b.jsx)(f.GridCol,{span:{base:12,md:7},children:(0,b.jsxs)(d.Stack,{gap:"md",children:[z&&(0,b.jsx)(i.Badge,{variant:"light",color:"brand",size:"lg",leftSection:(0,b.jsx)(r,{size:14}),children:z.name}),p.gender&&(0,b.jsx)(i.Badge,{variant:"light",color:"violet",size:"lg",children:"men"===p.gender?"للرجال":"women"===p.gender?"للنساء":"مناسب للجنسين"}),(0,b.jsx)(g.Title,{order:1,children:p.title}),(0,b.jsx)(k.Box,{children:C?(0,b.jsxs)(j.Group,{gap:"md",align:"baseline",children:[(0,b.jsxs)(h.Text,{fw:700,size:"2rem",c:"brand",children:[D," د.ع"]}),(0,b.jsxs)(h.Text,{td:"line-through",c:"dimmed",size:"xl",children:[p.price," د.ع"]}),(0,b.jsxs)(i.Badge,{color:"red",variant:"light",children:["وفر ",p.discount," دينار"]})]}):(0,b.jsxs)(h.Text,{fw:700,size:"2rem",c:"brand",children:[p.price," د.ع"]})}),(0,b.jsx)(m.Divider,{}),(0,b.jsxs)(k.Box,{children:[(0,b.jsx)(h.Text,{fw:600,mb:"xs",children:"الوصف"}),(0,b.jsx)(h.Text,{c:"dimmed",style:{lineHeight:1.8},children:p.description})]}),(0,b.jsx)(m.Divider,{}),p.notes&&p.notes.length>0&&(0,b.jsxs)(k.Box,{children:[(0,b.jsx)(h.Text,{fw:600,mb:"xs",children:"نوع العطر"}),(0,b.jsx)(j.Group,{gap:"xs",children:p.notes.map((a,c)=>(0,b.jsx)(i.Badge,{variant:"light",color:"grape",size:"lg",children:a},c))})]}),(0,b.jsx)(m.Divider,{}),(0,b.jsx)(j.Group,{gap:"xl",children:(0,b.jsxs)(j.Group,{gap:"xs",children:[(0,b.jsx)(q,{size:20,color:"var(--mantine-color-brand-6)"}),(0,b.jsx)(h.Text,{size:"sm",children:p.outOfStock?"غير متوفر حالياً":"متوفر في المخزون"})]})})]})})]})}),A.length>0&&(0,b.jsxs)(k.Box,{children:[(0,b.jsx)(u.SectionHeader,{title:"عطور مشابهة",subtitle:`المزيد من ${z?.name||"هذا التصنيف"}`,viewAllLink:z?`/category/${z.slug}`:void 0}),(0,b.jsx)(t.PerfumeGrid,{perfumes:A,categories:B,columns:{base:1,sm:2,md:2,lg:4}})]})]})}a.s(["default",()=>y,"generateMetadata",()=>x,"generateStaticParams",()=>w],65798)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__2695eb5d._.js.map